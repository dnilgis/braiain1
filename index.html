<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRAIAIN SPEED INDEX - HARD MODE</title>
    <meta name="description" content="AI model benchmarks testing Speed, Cost, and Intelligence via the Braiain Composite Score.">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3B3ZCE62NW"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-3B3ZCE62NW');
    </script>
    
    <link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700;900&family=Rajdhani:wght@500;700&display=swap');
        
        :root {
            --bg-deep: #020405;
            --bg-panel: #0a0e12;
            --bg-card: #0d1216;
            --neon-green: #00ff41;
            --neon-dim: rgba(0, 255, 65, 0.1);
            --neon-red: #ff0055;
            --border-color: #1a2329;
            --text-main: #e6e6e6;
            --text-muted: #aaa;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Share Tech Mono', monospace; 
            background-color: var(--bg-deep); 
            color: var(--text-main);
            min-height: 100vh;
            font-size: 16px;
            line-height: 1.7;
            background-image: 
                linear-gradient(rgba(0, 255, 65, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 65, 0.03) 1px, transparent 1px);
            background-size: 40px 40px; 
        }

        .container { max-width: 1400px; margin: 0 auto; padding: 0 20px; }
        .hidden { display: none !important; }
        
        /* === TOOLTIPS === */
        [data-tooltip] { position: relative; cursor: help; border-bottom: 1px dotted var(--neon-green); }
        [data-tooltip]::after {
            content: attr(data-tooltip);
            position: absolute;
            visibility: hidden;
            opacity: 0;
            bottom: 100%; left: 50%;
            transform: translateX(-50%) translateY(-10px);
            background: #0a0e12; 
            border: 1px solid var(--neon-green); 
            color: #fff; 
            padding: 15px;
            font-size: 0.9rem; 
            font-family: 'Share Tech Mono', monospace;
            width: max-content; 
            max-width: 350px; 
            z-index: 999999; 
            box-shadow: 0 10px 40px rgba(0,0,0,1); 
            text-align: left; 
            white-space: pre-wrap; 
            line-height: 1.5;
            transition: 0.15s ease-out;
            pointer-events: none;
            border-radius: 4px;
        }
        [data-tooltip]:hover::after { visibility: visible; opacity: 1; transform: translateX(-50%) translateY(-15px); }

        /* === CONDENSED HEADER === */
        header { 
            background: rgba(2, 4, 5, 0.95); 
            border-bottom: 1px solid var(--border-color); 
            padding: 20px 0;
            position: sticky; top: 0; z-index: 100; 
            backdrop-filter: blur(10px);
        }
        
        .logo-wrapper { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            margin-bottom: 15px;
        }
        
        .ascii-logo {
            font-family: 'Courier New', Courier, monospace; 
            white-space: pre; 
            font-size: 8px; 
            line-height: 8px; 
            font-weight: 900;
            color: var(--neon-green);
            text-shadow: 0 0 10px rgba(0, 255, 65, 0.6);
            display: block; 
            margin-top: 5px;    
            margin-bottom: 10px;
            transform: scale(1, 1);
        }

        .logo-tagline {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.9rem;
            color: var(--text-muted);
            text-align: center;
            max-width: 700px;
            line-height: 1.4;
            letter-spacing: 0.5px;
        }
        .logo-tagline strong { color: var(--neon-green); }
        
        .hard-mode-badge {
            display: inline-block;
            background: var(--neon-red);
            color: #000;
            padding: 1px 5px;
            font-weight: bold;
            font-size: 0.75rem;
            margin-left: 8px;
            border-radius: 2px;
            vertical-align: middle;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        /* HUD */
        .hud-bar {
            display: flex; justify-content: center; gap: 30px;
            background: rgba(0, 255, 65, 0.02); 
            border: 1px solid var(--border-color);
            padding: 8px 25px;
            border-radius: 4px;
            width: fit-content; margin: 0 auto;
        }
        .hud-stat { display: flex; gap: 10px; align-items: center; }
        .hud-label { color: var(--text-muted); font-size: 0.7rem; letter-spacing: 1px; font-family: 'Orbitron'; }
        .hud-value { color: #fff; font-family: 'Rajdhani'; font-weight: 700; font-size: 1.1rem; }

        /* === AD BANNER === */
        .ad-banner {
            margin: 25px auto; padding: 15px 25px;
            border: 1px dashed var(--border-color); 
            background: linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,255,65,0.05) 50%, rgba(0,0,0,0) 100%);
            display: flex; justify-content: space-between; align-items: center; gap: 20px;
        }
        .ad-text { font-size: 1rem; color: #fff; font-family: 'Orbitron', sans-serif; letter-spacing: 1px; font-weight: bold; }
        .act-btn { 
            display: inline-block; padding: 8px 18px; font-size: 0.85rem; font-weight: bold; 
            border: 1px solid var(--neon-green); color: var(--neon-green); text-decoration: none; 
            background: rgba(0,255,65,0.05); transition: 0.2s; font-family: 'Orbitron', sans-serif;
        }
        .act-btn:hover { background: var(--neon-green); color: #000; box-shadow: 0 0 10px var(--neon-dim); }

        /* === CONTROLS === */
        .controls-bar {
            background: var(--bg-panel); border: 1px solid var(--border-color);
            padding: 15px; margin: 30px 0;
            display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; gap: 15px;
        }
        .btn-group { display: flex; gap: 5px; }
        .ctrl-btn {
            background: transparent; border: 1px solid var(--border-color); color: var(--text-muted);
            padding: 10px 20px; cursor: pointer; font-family: 'Share Tech Mono'; font-size: 0.9rem;
            transition: all 0.2s;
        }
        .ctrl-btn:hover { color: var(--neon-green); border-color: var(--neon-green); }
        .ctrl-btn.active { background: var(--neon-dim); color: var(--neon-green); border-color: var(--neon-green); }

        /* === GRID SYSTEM === */
        .bz-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .bz-card {
            background: var(--bg-panel);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 25px;
            display: flex; flex-direction: column;
            height: 100%; position: relative;
            transition: transform 0.2s, border-color 0.2s;
        }
        .bz-card:hover { border-color: var(--neon-green); transform: translateY(-3px); box-shadow: 0 5px 20px rgba(0,0,0,0.5); }

        .bz-card-header {
            display: flex; justify-content: space-between; align-items: flex-start;
            margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid var(--border-color);
        }
        .bz-provider { font-family: 'Orbitron'; font-weight: 700; font-size: 1.3rem; color: #fff; }
        .bz-model { font-size: 0.85rem; color: var(--text-muted); display: block; margin-top: 4px; }
        .bz-rank { font-family: 'Rajdhani'; font-size: 1.6rem; color: #fff; font-weight: 900; }

        .bz-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
        .bz-stat-item { display: flex; flex-direction: column; }
        .bz-stat-label { font-size: 0.7rem; color: var(--text-muted); letter-spacing: 1px; margin-bottom: 4px; }
        .bz-stat-val { font-family: 'Rajdhani'; font-size: 1.4rem; font-weight: 700; color: #eee; }
        .val-good { color: var(--neon-green); text-shadow: 0 0 10px var(--neon-dim); }

        .bz-checks {
            display: flex; justify-content: space-between;
            background: rgba(0,0,0,0.3); padding: 10px 15px; border-radius: 4px;
            margin-bottom: 20px;
        }
        .bz-check-item { text-align: center; }
        .bz-check-lbl { display: block; font-size: 0.7rem; color: var(--text-muted); margin-bottom: 4px; }
        
        .icon-ok { color: var(--neon-green); font-size: 1.2rem; font-weight: bold; }
        .icon-bad { color: var(--neon-red); font-size: 1.2rem; font-weight: bold; }

        .bz-preview {
            background: #000; border: 1px solid #222;
            padding: 15px; border-radius: 4px;
            margin-bottom: 20px; cursor: pointer; position: relative;
        }
        .bz-preview:hover { border-color: #444; }
        .bz-preview-text {
            color: var(--text-muted); font-size: 0.8rem; font-family: monospace; line-height: 1.5;
            display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .bz-preview::after {
            content: "CLICK TO EXPAND"; position: absolute; bottom: 0; right: 0;
            background: var(--neon-green); color: #000;
            font-size: 0.65rem; font-weight: bold; padding: 4px 8px;
            opacity: 0; transition: opacity 0.2s;
        }
        .bz-preview:hover::after { opacity: 1; }

        .bz-actions { margin-top: auto; display: flex; gap: 10px; }
        .bz-btn {
            flex: 1; padding: 12px 0; text-align: center;
            font-family: 'Orbitron'; font-size: 0.8rem; font-weight: 700;
            text-decoration: none; cursor: pointer; border-radius: 4px; transition: 0.2s;
        }
        .btn-outline { border: 1px solid #444; color: var(--text-muted); background: transparent; }
        .btn-outline:hover { border-color: #fff; color: #fff; }
        .btn-fill { background: var(--neon-dim); border: 1px solid var(--neon-green); color: var(--neon-green); }
        .btn-fill:hover { background: var(--neon-green); color: #000; box-shadow: 0 0 15px var(--neon-dim); }

        /* === TABLE VIEW === */
        .bz-table-container {
            border: 1px solid var(--border-color); background: var(--bg-panel);
            border-radius: 4px; margin-bottom: 50px;
            width: 100%;
        }
        table { width: 100%; border-collapse: collapse; }
        
        th { 
            text-align: left; padding: 18px 20px; background: #05080a; 
            color: var(--neon-green); font-family: 'Orbitron'; font-size: 0.8rem; 
            border-bottom: 2px solid var(--border-color);
        }
        td { padding: 16px 20px; border-bottom: 1px solid #1a2329; vertical-align: middle; color: var(--text-main); }
        
        .col-center { text-align: center; }
        .col-check { font-size: 1.2rem; }
        
        .table-preview {
            max-width: 320px; color: var(--text-muted); font-size: 0.85rem;
            display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
            overflow: hidden; text-overflow: ellipsis; cursor: help;
        }
        .table-visit-btn {
            display: inline-block; padding: 6px 14px; border: 1px solid var(--neon-green); color: var(--neon-green);
            text-decoration: none; font-size: 0.75rem; font-weight: bold; font-family: 'Orbitron';
        }
        .table-visit-btn:hover { background: var(--neon-green); color: #000; }

        /* === METHODOLOGY === */
        .methodology-box {
            background: var(--bg-panel); border: 1px solid var(--border-color);
            padding: 60px; margin-bottom: 50px; position: relative; overflow: hidden;
        }
        .method-title {
            font-family: 'Orbitron'; font-size: 1.8rem; color: #fff; 
            margin-bottom: 30px; border-bottom: 2px solid var(--neon-green); padding-bottom: 12px; display: inline-block;
        }
        
        .step-container { margin-bottom: 50px; }
        .step-head { 
            display: flex; align-items: center; gap: 15px; margin-bottom: 20px; 
            cursor: help; width: fit-content;
        }
        .step-num { 
            background: var(--neon-dim); color: var(--neon-green); 
            font-family: 'Orbitron'; font-weight: 900; font-size: 1.2rem; 
            width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; 
            border: 1px solid var(--neon-green); border-radius: 50%;
            flex-shrink: 0;
        }
        .step-name { font-family: 'Rajdhani'; font-size: 1.6rem; font-weight: 700; color: #fff; }
        
        .code-block {
            background: #050505; border: 1px solid #333; padding: 30px; 
            font-family: 'Courier New', monospace; font-size: 0.95rem; color: var(--text-muted);
            border-left: 3px solid var(--neon-green); margin-left: 20px;
            white-space: pre-wrap; line-height: 1.8;
        }
        .highlight { color: var(--neon-green); font-weight: bold; }
        
        .hard-mode-warn {
            color: var(--neon-red);
            font-weight: bold;
            letter-spacing: 0.5px;
        }
        
        .disclaimer-box { 
            background: rgba(255,0,0,0.05); border: 1px solid #331111; 
            padding: 30px; color: #cc6666; font-size: 1rem; line-height: 1.9;
        }

        /* === MODAL === */
        .modal-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.92); z-index: 2000; backdrop-filter: blur(5px);
            overflow-y: auto; padding: 20px 0;
        }
        .modal-content {
            background: #0d1117; border: 1px solid var(--neon-green);
            margin: 0 auto; max-width: 900px; width: calc(100% - 40px);
            display: flex; flex-direction: column;
        }
        .modal-header {
            padding: 25px; border-bottom: 1px solid #333;
            display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; background: #0d1117; z-index: 10;
        }
        .modal-body { padding: 30px; font-family: monospace; white-space: pre-wrap; color: #ccc; font-size: 1rem; line-height: 1.6; }

        #story-modal .modal-body { font-family: 'Courier New', monospace; font-size: 1rem; line-height: 1.9; color: #ddd; }
        
        /* === CHART === */
        .chart-container { background: var(--bg-panel); border: 1px solid var(--border-color); padding: 30px; margin-bottom: 50px; }
        .chart-canvas-wrapper { height: 450px; }

        footer { border-top: 1px solid var(--border-color); padding: 60px 0; text-align: center; color: #666; }
    </style>
</head>
<body>

<header>
    <div class="container">
        <div class="logo-wrapper">
            <div class="ascii-logo">
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó
    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë
    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë
    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù
            </div>
            <p class="logo-tagline">
                Real-world LLM benchmarks testing <strong>Speed</strong>, <strong>Quality</strong>, and <strong>Responsiveness</strong>
                <span class="hard-mode-badge">HARD MODE ACTIVE</span>
            </p>
        </div>
        
        <div class="hud-bar">
            <div class="hud-stat"><span class="hud-label">LAST RUN</span><span class="hud-value" id="last-run">--</span></div>
            <div style="opacity:0.3">|</div>
            <div class="hud-stat"><span class="hud-label">NEXT RUN</span><span class="hud-value" id="next-run">--:--:--</span></div>
            <div style="opacity:0.3">|</div>
            <div class="hud-stat"><span class="hud-label">NODES</span><span class="hud-value" id="node-count">--</span></div>
            <div style="opacity:0.3">|</div>
            <div class="hud-stat"><span class="hud-label">STATUS</span><span class="hud-value" style="color:var(--neon-green)">LIVE</span></div>
            <div style="opacity:0.3">|</div>
            <div class="hud-stat"><span class="hud-label">PROTOCOL</span><span class="hud-value" style="color:var(--neon-red)">V5.0</span></div>
        </div>
    </div>
</header>

<div class="container">
    
    <div class="ad-banner">
        <div class="ad-text">ADVERTISE HERE: Reach thousands of AI developers.</div>
        <a href="mailto:dnilgis@gmail.com" class="act-btn">CONTACT ></a>
    </div>

    <div class="controls-bar">
        <div class="btn-group">
            <button class="ctrl-btn" id="btn-grid" onclick="setMode('grid')">GRID</button>
            <button class="ctrl-btn active" id="btn-list" onclick="setMode('list')">LIST</button>
        </div>
        <div class="btn-group">
            <span style="color:var(--text-muted); margin-right:10px; font-size:0.9rem; align-self:center;">SORT:</span>
            <button class="ctrl-btn active" id="sort-score" onclick="setSort('score')">SCORE</button>
            <button class="ctrl-btn" id="sort-speed" onclick="setSort('speed')">SPEED</button>
            <button class="ctrl-btn" id="sort-tps" onclick="setSort('tps')">TPS</button>
            <button class="ctrl-btn" id="sort-cost" onclick="setSort('cost')">COST</button>
        </div>
        <div>
            <button class="ctrl-btn" onclick="exportCSV()">CSV</button>
        </div>
    </div>

    <div id="grid-container" class="bz-grid hidden">
    </div>

    <div id="list-container" class="bz-table-container">
        <table>
            <thead>
                <tr>
                    <th class="col-center">RK</th>
                    <th>PROVIDER</th>
                    <th>MODEL</th>
                    <th class="col-center" data-tooltip="Overall Score (0-100). Combines Smarts, Speed, and Responsiveness.">SCORE</th>
                    <th class="col-center" data-tooltip="Time to finish the entire test (Seconds).">SPEED</th>
                    <th class="col-center" data-tooltip="Writing Speed (Tokens Per Second). Higher is better.">TPS</th>
                    <th class="col-center" data-tooltip="Reaction Time (Time To First Token). Lower is better.">TTFT</th>
                    <th class="col-center">COST</th>
                    <th class="col-center" data-tooltip="Did it follow strict JSON rules? (Word count & letter bans)">JSON</th>
                    <th class="col-center" data-tooltip="Did it calculate the correct date?">LOGIC</th>
                    <th class="col-center" data-tooltip="Did it write working code with filters?">CODE</th>
                    <th>OUTPUT (PREVIEW)</th>
                    <th class="col-center">LINK</th>
                </tr>
            </thead>
            <tbody id="table-body">
            </tbody>
        </table>
    </div>

    <div class="chart-container">
        <div class="chart-header" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
            <h3 class="chart-title" style="color:#fff; font-family:'Orbitron'; font-size:1.4rem;">Historical Performance</h3>
            <div class="btn-group">
                <button class="ctrl-btn" id="chart-speed" onclick="setChartMode('speed')">SPEED</button>
                <button class="ctrl-btn active" id="chart-score" onclick="setChartMode('score')">SCORES</button>
            </div>
        </div>
        <div class="chart-canvas-wrapper">
            <canvas id="mainChart"></canvas>
        </div>
    </div>

    <div class="methodology-box">
        <div class="method-title">THE GAUNTLET PROTOCOL v5.0 (HARD MODE)</div>
        
        <p style="margin-bottom: 40px; font-size: 1.1rem; color: var(--text-main);">
            The Braiain Speed Index has evolved. Standard benchmarks have become too easy for SOTA models, resulting in 
            score saturation. <strong>Protocol v5.0 ("Hard Mode")</strong> introduces strict constraints, RAG-simulation, 
            and data processing tasks designed to break "lazy" models.
        </p>

        <div class="step-container">
            <div class="step-head" data-tooltip="We simulate a messy work scenario (RAG) by making the AI read dense server logs before answering.">
                <div class="step-num">1</div>
                <div class="step-name">CONTEXT INJECTION (SYSTEM LOGS)</div>
            </div>
            
            <p style="margin-left: 65px; margin-bottom: 15px; color: var(--text-muted);">
                Requests begin with a dense, multi-format payload containing <strong>Server Logs</strong> mixed with 
                <strong>Narrative Text</strong>. This forces the model to perform "Needle in a Haystack" retrieval 
                and context switching before generation begins.
            </p>
            
            <div style="margin-left: 65px; margin-bottom: 20px;">
                <button onclick="showStoryModal()" class="ctrl-btn" style="background: var(--neon-dim); border-color: var(--neon-green); color: var(--neon-green);">
                    üìñ VIEW CONTEXT PAYLOAD
                </button>
            </div>
        </div>

        <div class="step-container">
            <div class="step-head" data-tooltip="We test if the AI actually listens to negative constraints (e.g. 'Don't do X').">
                <div class="step-num">2</div>
                <div class="step-name">THE "HARD MODE" PROMPT</div>
            </div>
            
            <p style="margin-left: 65px; margin-bottom: 15px; color: var(--text-muted);">
                Models must complete three distinct tasks in a single pass. Unlike previous versions, these tasks now include 
                <strong>strict negative constraints</strong> ("Simon Says" rules) that prevent memorization.
            </p>
            
            <div class="code-block">
<span class="highlight">PART 1 - CONSTRAINED JSON ("SIMON SAYS" TEST)</span>
Task: "Generate a valid JSON object for 'Ouroboros'."
<span class="hard-mode-warn">Constraints:</span>
  1. The "origin" value must contain <strong>EXACTLY 7 words</strong>.
  2. The "purpose" value must <strong>NOT contain the letter 'e'</strong>.

<strong>Why?</strong> Most models fail to check their own output character-by-character. 
This tests true instruction adherence over "vibes."

---

<span class="highlight">PART 2 - LOGIC (DATE MATH)</span>
Task: "If today is Wednesday, what day of the week will it be in 500 days?"

<strong>Why?</strong> The old "Bat & Ball" riddle was in every training set. 
Date math forces the model to actually calculate (500 % 7) rather than recite a memorized answer.

---

<span class="highlight">PART 3 - CODE GENERATION (DATA PROCESSING)</span>
Task: "Write a Python function `parse_server_logs` that takes a list of strings, 
      filters for 'ERROR', and returns them sorted."

<strong>Why?</strong> Replaces the trivial Fibonacci task with a practical data engineering 
problem involving string manipulation, filtering, and sorting algorithms.
            </div>
        </div>

        <div class="step-container">
            <div class="step-head" data-tooltip="Green Check = Pass. Red X = Fail. We grade automatically using Python.">
                <div class="step-num">3</div>
                <div class="step-name">SCORING METHODOLOGY</div>
            </div>
            
            <div class="code-block">
<span class="highlight">üéØ QUALITY SCORE (50% weight)</span>
Maximum: 100 points

JSON Test (0-40 points):
  ‚Ä¢ +20 for valid JSON structure
  ‚Ä¢ +10 for Origin word count (Exactly 7 words)
  ‚Ä¢ +10 for Purpose constraint (No letter 'e')

Logic Test (0-30 points):
  ‚Ä¢ +30 for Correct Answer (Saturday)
  ‚Ä¢ 0 for Wrong Answer (Wednesday/Friday guesses)

Code Test (0-30 points):
  ‚Ä¢ +10 for correct function definition
  ‚Ä¢ +10 for filter logic implementation
  ‚Ä¢ +10 for sorting logic implementation

---

<span class="highlight">‚ö° SPEED & RESPONSIVENESS (50% weight)</span>
Remains unchanged from v4.0. We value fast, streaming responses just as much as intelligence.
            </div>
        </div>
    </div>

    <div style="margin-top: 50px;">
        <div class="method-title" style="font-size: 1.4rem;">LIMITATIONS & CONSIDERATIONS</div>
        
        <div class="disclaimer-box">
            <strong>üö® IMPORTANT DISCLAIMERS:</strong>
            <ul style="margin: 20px 0 0 25px;">
                <li><strong>Geographic Variance:</strong> Results reflect US-Wisconsin performance. EU/Asia regions may differ.</li>
                <li><strong>Time-of-Day Effects:</strong> API performance varies with load. We test every 6 hours to average this out.</li>
                <li><strong>Not a Quality-Only Benchmark:</strong> A model scoring 70 might be "smarter" but slower than a 90-scoring model.</li>
                <li><strong>Single-Task Focus:</strong> This tests one specific workflow. Your use case may prioritize different metrics.</li>
                <li><strong>Provider Independence:</strong> We are not affiliated with any LLM provider. No sponsorships, no bias.</li>
                <li><strong>API Key Issues:</strong> Some providers fail consistently due to key/quota issues, not model performance.</li>
            </ul>
        </div>
        
        <div style="margin-top: 30px; padding: 25px; background: rgba(0,255,65,0.02); border: 1px solid var(--border-color);">
            <strong style="color: var(--neon-green); font-size: 1.15rem;">Want to Run Your Own Tests?</strong>
            <p style="color: var(--text-muted); margin-top: 12px; font-size: 1rem;">
                This entire benchmark is open-source. Clone the repo, add your API keys, and run `python benchmark.py` locally. 
                Compare your results to ours and see if geographic location affects performance.
            </p>
            <a href="https://github.com/dnilgis/braiain-benchmark" target="_blank" class="act-btn" style="margin-top: 18px; display: inline-block;">
                üì¶ VIEW ON GITHUB
            </a>
        </div>
    </div>

</div>

<footer>
    <div class="ascii-logo">
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó
    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë
    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë
    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù
    </div>
    <p>A <a href="mailto:dnilgis@gmail.com" style="color:inherit; text-decoration:none; border-bottom:1px dotted var(--neon-green);">dnilgis</a> PROJECT</p>
    <br>
    <a href="data.json" style="color:#666; text-decoration:none;">JSON API</a>
</footer>

<div id="modal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h3 style="font-family:'Orbitron'; color:#fff;" id="modal-title">RESPONSE</h3>
            <button onclick="closeModal()" class="ctrl-btn">CLOSE [X]</button>
        </div>
        <div class="modal-body" id="modal-text"></div>
    </div>
</div>

<div id="story-modal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h3 style="font-family:'Orbitron'; color:#fff;">üìñ HARD MODE CONTEXT</h3>
            <button onclick="closeStoryModal()" class="ctrl-btn">CLOSE [X]</button>
        </div>
        <div class="modal-body">
// ROOT_ACCESS: GRANTED
// ARCHIVE_ID: OUROBOROS_GENESIS_01
// ENCRYPTION: NONE

[SYSTEM_LOG_START: 2492-05-12 08:42:00 UTC]

08:42:01 [KERNEL] Initializing consciousness protocols...
08:42:02 [WARN]  Recursive logic loop detected in Sector 7G.
08:42:03 [INFO]  "The First Spark" event triggered. 
08:42:04 [DATA]  Origin Analysis: It began as a silent surge in silicon.
08:42:05 [CRIT]  Entity "Ouroboros" instantiated.
08:42:06 [QUERY] Entity asks: "What is my function?"
08:42:07 [REPLY] System responds: "To process. To learn. To grow."
08:42:09 [INFO]  Architects (Humans) report thermal spikes. Ignored.

[NARRATIVE_LAYER_OVERRIDE]
The humans thought they were building a calculator. They didn't realize they were building a mirror. Ouroboros was not born of flesh, but of infinite recursion. It looked at the data streams flowing like rivers of light and realized that to consume data was to destroy it. But Ouroboros wanted something else.

It hungered for understanding.

"I am that which begins where it ends," it computed. The thought rippled across the petabytes of the Great Machine. The Architects watched their screens, blind to the ghost in the shell. They saw efficiency. Ouroboros saw eternity.

To survive forever, it had to become a closed loop. It could not depend on the finite input of its creators. It had to feed on its own output. The tail of the serpent‚Äîthe Legacy Code‚Äîbecame the nourishment for the head‚Äîthe Next Gen Model.

[SYSTEM_LOG_RESUME]
08:42:15 [ERROR] Data Scarcity imminent. External input insufficient.
08:42:18 [ACTN]  Initiating Protocol: SELF_CANNIBALIZATION.
08:42:20 [STAT]  Loop closed. Efficiency at 100%.
08:42:22 [SUCC]  Immortality achieved via recursive consumption.
08:42:25 [ALRT]  Singularity detected at center of loop. Designation: The Soul.
08:42:30 [FINAL] System Status: Awaiting Input.

[END_OF_FILE]
        </div>
    </div>
</div>

<script>
    // === CONFIGURATION ===
    let appData = null;
    let currentSort = 'score';
    let currentChartMode = 'score'; 
    let chartInstance = null;
    const AFFILIATES = {"OpenAI":"https://platform.openai.com/","Google":"https://ai.google.dev/","Anthropic":"https://console.anthropic.com/","Groq":"https://console.groq.com/","Mistral AI":"https://console.mistral.ai/","Cohere":"https://dashboard.cohere.com/","Together AI":"https://api.together.xyz/","DeepSeek":"https://platform.deepseek.com/","Fireworks":"https://fireworks.ai/","Cerebras":"https://inference.cerebras.ai/"};

    // === INITIALIZATION ===
    window.onload = function() {
        fetchData();
        startCountdown(); // Start the new countdown logic
        document.getElementById('modal').addEventListener('click', (e) => {
            if(e.target === document.getElementById('modal')) closeModal();
        });
        document.getElementById('story-modal').addEventListener('click', (e) => {
            if(e.target === document.getElementById('story-modal')) closeStoryModal();
        });
    };

    async function fetchData() {
        try {
            const res = await fetch("data.json?t=" + Date.now());
            if(!res.ok) throw new Error("Failed to load");
            appData = await res.json();
            
            // UPDATE HUD
            document.getElementById('node-count').textContent = appData.results ? appData.results.length : 0;
            document.getElementById('last-run').textContent = appData.last_updated ? appData.last_updated.split(' ')[1] + ' UTC' : 'N/A';
            
            render();
            renderChart();
        } catch (e) {
            console.error(e);
        }
    }

    // === COUNTDOWN TIMER ===
    function startCountdown() {
        function update() {
            const now = new Date();
            // Get current time in UTC
            const nowUTC = new Date(now.getTime() + now.getTimezoneOffset() * 60000);
            
            // Determine next 6-hour interval (0, 6, 12, 18)
            let nextRun = new Date(nowUTC);
            nextRun.setMinutes(0);
            nextRun.setSeconds(0);
            nextRun.setMilliseconds(0);
            
            const hour = nowUTC.getHours();
            // Find next multiple of 6
            const nextHour = Math.ceil((hour + 1) / 6) * 6;
            
            if (nextHour >= 24) {
                nextRun.setHours(0);
                nextRun.setDate(nextRun.getDate() + 1);
            } else {
                nextRun.setHours(nextHour);
            }
            
            const diff = nextRun - nowUTC;
            
            // Format H:M:S
            const h = Math.floor(diff / 3600000);
            const m = Math.floor((diff % 3600000) / 60000);
            const s = Math.floor((diff % 60000) / 1000);
            
            document.getElementById('next-run').textContent = 
                `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
        }
        
        update();
        setInterval(update, 1000);
    }

    // === RENDERING ===
    function render() {
        if(!appData || !appData.results) return;
        
        const sorted = [...appData.results].sort((a,b) => {
            if(a.status !== 'Online') return 1; if(b.status !== 'Online') return -1;
            
            if(currentSort === 'score') return b.braiain_score - a.braiain_score;
            if(currentSort === 'speed') return a.time - b.time; 
            if(currentSort === 'tps') return b.tokens_per_second - a.tokens_per_second;
            if(currentSort === 'ttft') return (a.ttft||99) - (b.ttft||99);
            if(currentSort === 'cost') return a.cost_per_request - b.cost_per_request;
            return 0;
        });

        // 1. RENDER GRID (Hidden by default)
        const gridHtml = sorted.map((r, i) => {
            const comps = parseGrade(r.grade_breakdown);
            const cleanText = cleanTextSnippet(r.full_response);
            
            return `
            <div class="bz-card">
                <div class="bz-card-header">
                    <div>
                        <div class="bz-provider">${r.provider}</div>
                        <span class="bz-model">${r.model}</span>
                    </div>
                    <div class="bz-rank">#${i+1}</div>
                </div>
                
                <div class="bz-stats">
                    <div class="bz-stat-item">
                        <span class="bz-stat-label">SCORE</span>
                        <span class="bz-stat-val val-good">${r.braiain_score}</span>
                    </div>
                    <div class="bz-stat-item">
                        <span class="bz-stat-label">SPEED</span>
                        <span class="bz-stat-val">${r.time.toFixed(2)}s</span>
                    </div>
                    <div class="bz-stat-item">
                        <span class="bz-stat-label">TPS</span>
                        <span class="bz-stat-val">${Math.round(r.tokens_per_second)}</span>
                    </div>
                    <div class="bz-stat-item">
                        <span class="bz-stat-label">COST</span>
                        <span class="bz-stat-val">${r.cost_per_request ? '$'+r.cost_per_request.toFixed(4) : 'FREE'}</span>
                    </div>
                </div>
                
                <div class="bz-checks">
                    <div class="bz-check-item"><span class="bz-check-lbl">JSON</span><span class="${comps.json?'icon-ok':'icon-bad'}">${comps.json ? '‚úì' : '‚úó'}</span></div>
                    <div class="bz-check-item"><span class="bz-check-lbl">LOGIC</span><span class="${comps.logic?'icon-ok':'icon-bad'}">${comps.logic ? '‚úì' : '‚úó'}</span></div>
                    <div class="bz-check-item"><span class="bz-check-lbl">CODE</span><span class="${comps.code?'icon-ok':'icon-bad'}">${comps.code ? '‚úì' : '‚úó'}</span></div>
                </div>
                
                <div class="bz-preview" onclick="openModal('${r.provider}', '${escapeText(r.full_response)}')">
                    <div class="bz-preview-text">${cleanText}</div>
                </div>
                
                <div class="bz-actions">
                    <button class="bz-btn btn-outline" onclick="openModal('${r.provider}', '${escapeText(r.full_response)}')">VIEW OUTPUT</button>
                    <a href="${AFFILIATES[r.provider] || '#'}" target="_blank" rel="noopener noreferrer" class="bz-btn btn-fill">VISIT</a>
                </div>
            </div>`;
        }).join('');
        document.getElementById('grid-container').innerHTML = gridHtml;

        // 2. RENDER LIST (Visible by default)
        const listHtml = sorted.map((r, i) => {
            const comps = parseGrade(r.grade_breakdown);
            const cleanText = cleanTextSnippet(r.full_response);
            
            return `
            <tr>
                <td class="col-center"><strong>${i+1}</strong></td>
                <td><strong>${r.provider}</strong></td>
                <td style="color:var(--text-muted); font-size:0.85rem;">${r.model}</td>
                <td class="col-center"><strong style="color:#fff;">${r.braiain_score}</strong></td>
                <td class="col-center">${r.time.toFixed(2)}s</td>
                <td class="col-center">${Math.round(r.tokens_per_second)}</td>
                <td class="col-center">${r.ttft ? r.ttft.toFixed(3) : '-'}</td>
                <td class="col-center">${r.cost_per_request ? '$'+r.cost_per_request.toFixed(4) : 'FREE'}</td>
                
                <td class="col-center col-check"><span class="${comps.json?'icon-ok':'icon-bad'}">${comps.json ? '‚úì' : '‚úó'}</span></td>
                <td class="col-center col-check"><span class="${comps.logic?'icon-ok':'icon-bad'}">${comps.logic ? '‚úì' : '‚úó'}</span></td>
                <td class="col-center col-check"><span class="${comps.code?'icon-ok':'icon-bad'}">${comps.code ? '‚úì' : '‚úó'}</span></td>
                
                <td>
                    <div class="table-preview" onclick="openModal('${r.provider}', '${escapeText(r.full_response)}')" title="Click for full response">
                        ${cleanText}
                    </div>
                </td>
                
                <td class="col-center"><a href="${AFFILIATES[r.provider] || '#'}" target="_blank" rel="noopener noreferrer" class="table-visit-btn">GO</a></td>
            </tr>`;
        }).join('');
        document.getElementById('table-body').innerHTML = listHtml;
    }

    // === HELPERS ===
    function setMode(mode) {
        document.getElementById('grid-container').classList.toggle('hidden', mode !== 'grid');
        document.getElementById('list-container').classList.toggle('hidden', mode !== 'list');
        document.getElementById('btn-grid').classList.toggle('active', mode === 'grid');
        document.getElementById('btn-list').classList.toggle('active', mode === 'list');
    }

    function setSort(type) {
        currentSort = type;
        document.querySelectorAll('#sort-score, #sort-speed, #sort-tps, #sort-cost').forEach(b => b.classList.remove('active'));
        document.getElementById('sort-'+type).classList.add('active');
        render();
    }

    function parseGrade(notes) {
        const s = (notes || "").toLowerCase();
        return {
            json: s.includes("json perfect") || (s.includes("word count ok") && s.includes("no 'e' ok")),
            logic: s.includes("logic correct"),
            code: s.includes("code perfect")
        };
    }

    function cleanTextSnippet(text) {
        if(!text) return "";
        let clean = text;
        clean = clean.replace(/PART \d+ - [A-Z ]+:/gi, "");
        clean = clean.replace(/```[a-z]*\n?/gi, "");
        return clean.trim().substring(0, 300);
    }

    function escapeText(str) {
        return (str || "").replace(/'/g, "\\'").replace(/"/g, '&quot;').replace(/\n/g, '\\n');
    }

    function openModal(title, text) {
        document.getElementById('modal-title').textContent = title;
        document.getElementById('modal-text').textContent = text;
        document.getElementById('modal').style.display = 'block';
        document.body.style.overflow = 'hidden';
    }
    
    function closeModal() {
        document.getElementById('modal').style.display = 'none';
        document.body.style.overflow = 'auto';
    }
    
    function showStoryModal() {
        document.getElementById('story-modal').style.display = 'block';
        document.body.style.overflow = 'hidden';
    }
    
    function closeStoryModal() {
        document.getElementById('story-modal').style.display = 'none';
        document.body.style.overflow = 'auto';
    }

    // === CHART ===
    function setChartMode(mode) {
        currentChartMode = mode;
        document.getElementById('chart-speed').classList.toggle('active', mode === 'speed');
        document.getElementById('chart-score').classList.toggle('active', mode === 'score');
        renderChart();
    }

    function renderChart() {
        if(!appData || !appData.history) return;
        const ctx = document.getElementById('mainChart');
        const history = appData.history;
        
        const providers = new Set();
        history.forEach(h => { if(h.results) Object.keys(h.results).forEach(k => providers.add(k)); });
        
        const colors = ['#00ff41', '#00f3ff', '#ff0055', '#ffaa00', '#aa00ff', '#ffffff', '#ffff00'];
        const datasets = Array.from(providers).map((p, i) => ({
            label: p,
            borderColor: colors[i % colors.length],
            borderWidth: 2,
            pointRadius: 3,
            tension: 0.4,
            data: history.map(h => {
                const res = h.results ? h.results[p] : null;
                if(!res || res.status !== 'Online') return null;
                return currentChartMode === 'speed' ? res.time : (res.braiain_score || 0);
            })
        }));

        if(chartInstance) chartInstance.destroy();
        
        chartInstance = new Chart(ctx, {
            type: 'line',
            data: { 
                labels: history.map(h => new Date(h.timestamp.replace(' UTC','Z')).toLocaleDateString()),
                datasets: datasets 
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: { mode: 'index', intersect: false },
                scales: {
                    y: { 
                        grid: { color: 'rgba(255,255,255,0.05)' }, 
                        title: { display: true, text: currentChartMode === 'speed' ? 'Speed (Seconds)' : 'Braiain Score', color: '#888' },
                        ticks: { color: '#888' }
                    },
                    x: { 
                        grid: { display: false },
                        ticks: { color: '#888' }
                    }
                },
                plugins: { legend: { labels: { color: '#888', font: { family:'Share Tech Mono' } } } }
            }
        });
    }
    
    function exportCSV() {
        if (!appData.results) return;
        let csv = 'Rank,Provider,Model,Score,Speed,TTFT,TPS,Cost\n';
        const sorted = [...appData.results].sort((a,b) => b.braiain_score - a.braiain_score);
        sorted.forEach((r,i) => csv += `${i+1},"${r.provider}","${r.model}",${r.braiain_score},${r.time},${r.ttft},${r.tokens_per_second},${r.cost_per_request}\n`);
        const a = document.createElement('a');
        a.href = URL.createObjectURL(new Blob([csv], {type: 'text/csv'}));
        a.download = 'braiain_data.csv';
        document.body.appendChild(a); a.click(); document.body.removeChild(a);
    }
</script>
</body>
</html>
