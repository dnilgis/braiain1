<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRAIAIN SPEED INDEX - HARD MODE</title>
    <meta name="description" content="AI model benchmarks testing Speed, Cost, and Intelligence via the Braiain Composite Score.">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3B3ZCE62NW"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-3B3ZCE62NW');
    </script>
    
    <link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700;900&family=Rajdhani:wght@500;700&display=swap');
        
        :root {
            --bg-deep: #020405;
            --bg-panel: #0a0e12;
            --bg-card: #0d1216;
            --neon-green: #00ff41;
            --neon-dim: rgba(0, 255, 65, 0.1);
            --neon-red: #ff0055;
            --neon-gold: #ffaa00;
            --neon-cyan: #00f3ff;
            --border-color: #1a2329;
            --text-main: #e6e6e6;
            --text-muted: #aaa;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Share Tech Mono', monospace; 
            background-color: var(--bg-deep); 
            color: var(--text-main);
            min-height: 100vh;
            font-size: 16px;
            line-height: 1.6;
            background-image: 
                linear-gradient(rgba(0, 255, 65, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 65, 0.03) 1px, transparent 1px);
            background-size: 40px 40px; 
            overflow-x: hidden; 
        }

        .container { max-width: 1400px; margin: 0 auto; padding: 0 15px; }
        .hidden { display: none !important; }
       
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            margin: -1px;
            padding: 0;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        #global-tooltip {
            position: fixed;
            visibility: hidden;
            opacity: 0;
            background: #0a0e12; 
            border: 1px solid var(--neon-green); 
            color: #fff; 
            padding: 10px;
            font-size: 0.8rem; 
            font-family: 'Share Tech Mono', monospace;
            max-width: 250px; 
            z-index: 999999; 
            box-shadow: 0 10px 40px rgba(0,0,0,1); 
            text-align: left; 
            white-space: pre-wrap; 
            line-height: 1.4;
            pointer-events: none;
            border-radius: 4px;
            transition: opacity 0.1s ease-out;
        }
        
        [data-tooltip] { 
            cursor: help; 
            text-decoration: underline dotted var(--neon-green);
            text-underline-offset: 4px;
        }

        header { 
            background: rgba(2, 4, 5, 0.95); 
            border-bottom: 1px solid var(--border-color); 
            padding: 20px 0;
            position: relative; 
            z-index: 100; 
        }
        
        .logo-wrapper { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            margin-bottom: 15px;
        }
        
        .ascii-logo {
            font-family: 'Courier New', Courier, monospace; 
            white-space: pre; 
            font-size: 8px; 
            line-height: 8px; 
            font-weight: 900;
            color: var(--neon-green);
            text-shadow: 0 0 10px rgba(0, 255, 65, 0.6);
            display: block; 
            margin-top: 5px;    
            margin-bottom: 10px;
            transform: scale(1, 1);
        }

        .logo-tagline {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.9rem;
            color: var(--text-muted);
            text-align: center;
            max-width: 700px;
            line-height: 1.4;
            letter-spacing: 0.5px;
        }
        .logo-tagline strong { color: var(--neon-green); }
        
        .hard-mode-badge {
            display: inline-block;
            background: var(--neon-red);
            color: #000;
            padding: 1px 5px;
            font-weight: bold;
            font-size: 0.75rem;
            margin-left: 8px;
            border-radius: 2px;
            vertical-align: middle;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        .hud-bar {
            display: flex; justify-content: center; gap: 30px;
            background: rgba(0, 255, 65, 0.02); 
            border: 1px solid var(--border-color);
            padding: 8px 25px;
            border-radius: 4px;
            width: fit-content; margin: 0 auto;
            flex-wrap: wrap; 
        }
        .hud-stat { display: flex; gap: 8px; align-items: center; white-space: nowrap; }
        .hud-label { color: var(--text-muted); font-size: 0.7rem; letter-spacing: 1px; font-family: 'Orbitron'; }
        .hud-value { color: #fff; font-family: 'Rajdhani'; font-weight: 700; font-size: 1.1rem; }

        .ad-banner {
            margin: 20px auto; padding: 15px 20px;
            border: 1px dotted var(--neon-gold);
            background: linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(255, 170, 0, 0.05) 50%, rgba(0,0,0,0) 100%);
            display: flex; justify-content: space-between; align-items: center; gap: 15px;
        }
        .ad-text { font-size: 0.95rem; color: var(--neon-gold); font-family: 'Orbitron', sans-serif; letter-spacing: 1px; font-weight: bold; }
        .act-btn { 
            display: inline-block; padding: 8px 16px; font-size: 0.8rem; font-weight: bold; 
            border: 1px solid var(--neon-gold); color: var(--neon-gold); text-decoration: none; 
            background: rgba(255, 170, 0, 0.05); transition: 0.2s; font-family: 'Orbitron', sans-serif;
            text-align: center;
            white-space: nowrap;
        }
        .act-btn:hover { background: var(--neon-gold); color: #000; box-shadow: 0 0 10px rgba(255, 170, 0, 0.3); }

        .weight-panel {
            background: var(--bg-panel);
            border: 1px solid var(--border-color);
            padding: 25px;
            margin: 20px 0;
            border-radius: 4px;
        }
        .weight-title {
            font-family: 'Orbitron';
            color: var(--neon-green);
            font-size: 1.3rem;
            margin-bottom: 20px;
            text-align: center;
            letter-spacing: 1px;
        }
        .slider-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        .slider-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .slider-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--text-muted);
            font-size: 0.85rem;
        }
        .slider-value {
            color: var(--neon-green);
            font-weight: bold;
            font-family: 'Rajdhani';
            font-size: 1.1rem;
        }
        .weight-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.1);
            outline: none;
            border-radius: 3px;
            cursor: pointer;
        }
        .weight-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: var(--neon-green);
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 0 10px var(--neon-dim);
        }
        .weight-slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            background: var(--neon-green);
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 0 10px var(--neon-dim);
        }

        .shame-box {
            background: rgba(255, 0, 85, 0.05);
            border: 1px solid rgba(255, 0, 85, 0.3);
            padding: 25px;
            margin: 20px 0;
            border-radius: 4px;
        }
        .shame-title {
            font-family: 'Orbitron';
            color: var(--neon-red);
            font-size: 1.4rem;
            margin-bottom: 20px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }
        .shame-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .shame-stat {
            background: rgba(0,0,0,0.3);
            padding: 18px;
            border-radius: 4px;
            border-left: 3px solid var(--neon-red);
        }
        .shame-stat-value {
            font-size: 2.2rem;
            font-weight: 900;
            font-family: 'Rajdhani';
            color: var(--neon-red);
        }
        .shame-stat-label {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 5px;
        }

        .diff-container {
            background: #000;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
            font-family: monospace;
        }
        .diff-section {
            margin-bottom: 20px;
        }
        .diff-label {
            color: var(--neon-cyan);
            font-weight: bold;
            margin-bottom: 5px;
            display: block;
        }
        .diff-expected {
            color: var(--neon-green);
            background: rgba(0, 255, 65, 0.1);
            padding: 10px;
            border-left: 3px solid var(--neon-green);
            margin-bottom: 10px;
        }
        .diff-actual {
            color: var(--neon-red);
            background: rgba(255, 0, 85, 0.1);
            padding: 10px;
            border-left: 3px solid var(--neon-red);
        }
        .diff-highlight-missing {
            background: rgba(255, 0, 85, 0.3);
            padding: 2px 4px;
            border-radius: 2px;
        }
        .diff-highlight-extra {
            background: rgba(255, 170, 0, 0.3);
            padding: 2px 4px;
            border-radius: 2px;
        }

        .radar-container {
            max-width: 500px;
            margin: 20px auto;
        }

        .controls-bar {
            background: var(--bg-panel); border: 1px solid var(--border-color);
            padding: 15px; margin: 20px 0;
            display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; gap: 10px;
        }
        .btn-group { display: flex; gap: 5px; flex-wrap: wrap; }
        .ctrl-btn {
            background: transparent; border: 1px solid var(--border-color); color: var(--text-muted);
            padding: 8px 16px; cursor: pointer; font-family: 'Share Tech Mono'; font-size: 0.8rem;
            transition: all 0.2s;
            flex-grow: 1; 
        }
        .ctrl-btn:hover { color: var(--neon-green); border-color: var(--neon-green); }
        .ctrl-btn.active { background: var(--neon-dim); color: var(--neon-green); border-color: var(--neon-green); }
        
        .compare-float {
            position: fixed; bottom: 20px; right: 20px;
            background: #000; border: 1px solid var(--neon-green);
            padding: 15px; z-index: 900;
            box-shadow: 0 5px 20px rgba(0,0,0,0.8);
            display: none; flex-direction: column; gap: 10px;
        }
        .compare-float.visible { display: flex; }

        .bz-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); 
            gap: 20px;
            margin-bottom: 40px;
        }

        .bz-card {
            background: var(--bg-panel);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 20px;
            display: flex; flex-direction: column;
            height: 100%; position: relative;
            transition: transform 0.2s, border-color 0.2s;
        }
        .bz-card:hover { border-color: var(--neon-green); transform: translateY(-3px); box-shadow: 0 5px 20px rgba(0,0,0,0.5); }

        .bz-card-header {
            display: flex; justify-content: space-between; align-items: flex-start;
            margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid var(--border-color);
        }
        .bz-provider { font-family: 'Orbitron'; font-weight: 700; font-size: 1.2rem; color: #fff; word-break: break-word; }
        .bz-model { font-size: 0.75rem; color: var(--text-muted); display: block; margin-top: 4px; }
        .bz-rank { font-family: 'Rajdhani'; font-size: 1.5rem; color: #333; font-weight: 900; }

        .bz-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
        .bz-stat-item { display: flex; flex-direction: column; }
        .bz-stat-label { font-size: 0.65rem; color: var(--text-muted); letter-spacing: 1px; margin-bottom: 2px; }
        .bz-stat-val { font-family: 'Rajdhani'; font-size: 1.3rem; font-weight: 700; color: #eee; }
        .val-good { color: var(--neon-green); text-shadow: 0 0 10px var(--neon-dim); }

        .bz-checks {
            display: flex; justify-content: space-between;
            background: rgba(0,0,0,0.3); padding: 8px 12px; border-radius: 4px;
            margin-bottom: 20px;
        }
        .bz-check-item { text-align: center; }
        .bz-check-lbl { display: block; font-size: 0.65rem; color: var(--text-muted); margin-bottom: 2px; }
        
        .icon-ok { color: var(--neon-green); font-size: 1rem; font-weight: bold; }
        .icon-bad { color: var(--neon-red); font-size: 1rem; font-weight: bold; }

        .bz-preview {
            background: #000; border: 1px solid #222;
            padding: 12px; border-radius: 4px;
            margin-bottom: 20px; cursor: pointer; position: relative;
        }
        .bz-preview:hover { border-color: #444; }
        .bz-preview-text {
            color: var(--text-muted); font-size: 0.75rem; font-family: monospace; line-height: 1.4;
            display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .bz-preview::after {
            content: "EXPAND"; position: absolute; bottom: 0; right: 0;
            background: var(--neon-green); color: #000;
            font-size: 0.6rem; font-weight: bold; padding: 2px 6px;
            opacity: 0; transition: opacity 0.2s;
        }
        .bz-preview:hover::after { opacity: 1; }

        .bz-actions { margin-top: auto; display: flex; gap: 8px; }
        .bz-btn {
            flex: 1; padding: 10px 0; text-align: center;
            font-family: 'Orbitron'; font-size: 0.75rem; font-weight: 700;
            text-decoration: none; cursor: pointer; border-radius: 4px; transition: 0.2s;
        }
        .btn-outline { border: 1px solid #444; color: var(--text-muted); background: transparent; }
        .btn-outline:hover { border-color: #fff; color: #fff; }
        .btn-fill { background: var(--neon-dim); border: 1px solid var(--neon-green); color: var(--neon-green); }
        .btn-fill:hover { background: var(--neon-green); color: #000; box-shadow: 0 0 15px var(--neon-dim); }

        .bz-table-container {
            border: 1px solid var(--border-color); background: var(--bg-panel);
            border-radius: 4px; margin-bottom: 40px;
            width: 100%;
            overflow-x: auto; 
            -webkit-overflow-scrolling: touch;
        }
        table { width: 100%; border-collapse: collapse; min-width: 800px; }
        
        th { 
            text-align: left; padding: 15px; background: #05080a; 
            color: var(--neon-green); font-family: 'Orbitron'; font-size: 0.75rem; 
            border-bottom: 2px solid var(--border-color);
            white-space: nowrap;
        }
        td { padding: 12px 15px; border-bottom: 1px solid #1a2329; vertical-align: middle; color: var(--text-main); font-size: 0.9rem; }
        
        .col-center { text-align: center; }
        .col-check { font-size: 1.1rem; }
        .table-preview {
            max-width: 250px; color: var(--text-muted); font-size: 0.8rem;
            display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
            overflow: hidden; text-overflow: ellipsis; cursor: help;
        }
        .table-visit-btn {
            display: inline-block; padding: 4px 10px; border: 1px solid var(--neon-green); color: var(--neon-green);
            text-decoration: none; font-size: 0.7rem; font-weight: bold; font-family: 'Orbitron';
        }
        .table-visit-btn:hover { background: var(--neon-green); color: #000; }
        
        .model-select {
            appearance: none; width: 16px; height: 16px; border: 1px solid #444; background: #000;
            cursor: pointer; display: inline-block; vertical-align: middle;
        }
        .model-select:checked { background: var(--neon-green); border-color: var(--neon-green); }

        .methodology-box {
            background: var(--bg-panel); border: 1px solid var(--border-color);
            padding: 40px; 
            margin-bottom: 40px; position: relative; overflow: visible; 
        }
        .method-title {
            font-family: 'Orbitron'; font-size: 1.5rem; color: #fff; 
            margin-bottom: 20px; border-bottom: 2px solid var(--neon-green); padding-bottom: 10px; display: inline-block;
        }
        
        .step-container { margin-bottom: 30px; }
        .step-head { 
            display: flex; align-items: center; gap: 12px; margin-bottom: 15px; 
            width: fit-content;
        }
        .step-num { 
            background: var(--neon-dim); color: var(--neon-green); 
            font-family: 'Orbitron'; font-weight: 900; font-size: 1.1rem; 
            width: 35px; height: 35px; display: flex; align-items: center; justify-content: center; 
            border: 1px solid var(--neon-green); border-radius: 50%;
            flex-shrink: 0;
        }
        .step-name { font-family: 'Rajdhani'; font-size: 1.3rem; font-weight: 700; color: #fff; }
        
        .code-block {
            background: #050505; border: 1px solid #333; padding: 20px; 
            font-family: 'Courier New', monospace; font-size: 0.85rem; color: var(--text-muted);
            border-left: 3px solid var(--neon-green); margin-left: 10px; 
            white-space: pre-wrap; line-height: 1.5; 
        }
        .highlight { color: var(--neon-green); font-weight: bold; }
        
        .hard-mode-warn { color: var(--neon-red); font-weight: bold; letter-spacing: 0.5px; }
        
        .disclaimer-box { 
            background: rgba(255,0,0,0.05); border: 1px solid #331111; 
            padding: 20px; color: #cc6666; font-size: 0.9rem; line-height: 1.6;
        }

        .modal-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.92); z-index: 2000; backdrop-filter: blur(5px);
            overflow-y: auto; padding: 10px;
        }
        .modal-content {
            background: #0d1117; border: 1px solid var(--neon-green);
            margin: 0 auto; max-width: 900px; width: 100%;
            display: flex; flex-direction: column;
        }
        .modal-header {
            padding: 15px; border-bottom: 1px solid #333;
            display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; background: #0d1117; z-index: 10;
        }
        .modal-body { padding: 20px; font-family: monospace; white-space: pre-wrap; color: #ccc; font-size: 0.9rem; line-height: 1.5; }

        .compare-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .compare-col { background: #000; padding: 15px; border: 1px solid #333; }
        .compare-score { font-size: 2rem; font-weight: bold; color: var(--neon-green); font-family: 'Rajdhani'; }

        #story-modal .modal-body { font-family: 'Courier New', monospace; font-size: 0.9rem; line-height: 1.6; color: #ddd; }
        
        .chart-container { background: var(--bg-panel); border: 1px solid var(--border-color); padding: 20px; margin-bottom: 40px; }
        .chart-canvas-wrapper { height: 350px; }

        footer { border-top: 1px solid var(--border-color); padding: 40px 0; text-align: center; color: #666; }

        @media (max-width: 768px) {
            body { font-size: 14px; }
            header { padding: 15px 0; }
            .ascii-logo { font-size: 5px; line-height: 5px; } 
            .logo-tagline { font-size: 0.8rem; padding: 0 10px; }
            .hud-bar { gap: 10px; padding: 10px; width: 95%; flex-direction: row; flex-wrap: wrap; }
            .hud-stat { font-size: 0.8rem; flex-basis: 45%; justify-content: center; } 
            .hud-value { font-size: 1rem; }
            .ad-banner { flex-direction: column; text-align: center; padding: 15px; gap: 10px; }
            .ad-text { font-size: 0.9rem; }
            .act-btn { width: 100%; }
            .controls-bar { flex-direction: column; align-items: stretch; gap: 10px; }
            .btn-group { width: 100%; }
            .ctrl-btn { flex: 1; padding: 10px; }
            .slider-group { grid-template-columns: 1fr; }
            .shame-stats { grid-template-columns: 1fr; }
            .bz-table-container { overflow-x: scroll; display: block; }
            .methodology-box { padding: 20px 15px; }
            .method-title { font-size: 1.3rem; margin-bottom: 20px; }
            .step-container p { margin-left: 0 !important; margin-bottom: 15px; } 
            .step-head { margin-bottom: 10px; }
            .code-block { margin-left: 0; padding: 15px; font-size: 0.75rem; overflow-x: auto; }
            .disclaimer-box { padding: 15px; }
            .chart-header { flex-direction: column; align-items: flex-start; gap: 10px; }
            .chart-title { margin-bottom: 0; }
            .chart-canvas-wrapper { height: 250px; }
            .compare-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<div id="global-tooltip"></div>

<header>
    <div class="container">
        <h1 class="visually-hidden">BRAIAIN Speed Index - AI LLM Performance Benchmark Testing Claude, GPT-4, Gemini, and More</h1>
        <div class="logo-wrapper">
            <div class="ascii-logo">
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó
    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë
    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë
    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù
            </div>
            <p class="logo-tagline">
                Real-world LLM benchmarks testing <strong>Speed</strong>, <strong>Quality</strong>, and <strong>Responsiveness</strong>
                <span class="hard-mode-badge">HARD MODE ACTIVE</span>
            </p>
        </div>
        
        <div class="hud-bar">
            <div class="hud-stat"><span class="hud-label">LAST RUN</span><span class="hud-value" id="last-run">--</span></div>
            <div style="opacity:0.3" class="desktop-only">|</div>
            <div class="hud-stat"><span class="hud-label">NEXT RUN</span><span class="hud-value" id="next-run">--:--:--</span></div>
            <div style="opacity:0.3" class="desktop-only">|</div>
            <div class="hud-stat"><span class="hud-label">NODES</span><span class="hud-value" id="node-count">--</span></div>
            <div style="opacity:0.3" class="desktop-only">|</div>
            <div class="hud-stat"><span class="hud-label">STATUS</span><span class="hud-value" style="color:var(--neon-green)">LIVE</span></div>
            <div style="opacity:0.3" class="desktop-only">|</div>
            <div class="hud-stat"><span class="hud-label">PROTOCOL</span><span class="hud-value" style="color:var(--neon-red)">V5.2</span></div>
        </div>
    </div>
</header>

<div class="container">
    
    <div class="ad-banner" data-tooltip="ELI5: Robots are expensive. I am broke. Please sponsor me.">
        <div class="ad-text">SPONSOR THIS PROJECT: (I need API credits)</div>
        <a href="mailto:dnilgis@gmail.com" class="act-btn">CONTACT ></a>
    </div>

    <div class="weight-panel">
        <div class="weight-title" data-tooltip="ELI5: Don't like our scoring? Drag these sliders to build your own benchmark. Care more about speed than smarts? Crank speed to 100%.">
            ‚öôÔ∏è BUILD YOUR OWN BENCHMARK
        </div>
        <div class="slider-group">
            <div class="slider-item">
                <div class="slider-label">
                    <span>Quality Weight</span>
                    <span class="slider-value" id="quality-weight-display">50%</span>
                </div>
                <input type="range" min="0" max="100" value="50" class="weight-slider" id="quality-weight" oninput="updateWeights()">
            </div>
            <div class="slider-item">
                <div class="slider-label">
                    <span>Speed Weight</span>
                    <span class="slider-value" id="speed-weight-display">30%</span>
                </div>
                <input type="range" min="0" max="100" value="30" class="weight-slider" id="speed-weight" oninput="updateWeights()">
            </div>
            <div class="slider-item">
                <div class="slider-label">
                    <span>Cost Weight</span>
                    <span class="slider-value" id="cost-weight-display">20%</span>
                </div>
                <input type="range" min="0" max="100" value="20" class="weight-slider" id="cost-weight" oninput="updateWeights()">
            </div>
        </div>
        <div style="text-align: center; margin-top: 15px; color: var(--text-muted); font-size: 0.85rem;">
            Total Weight: <span id="total-weight" style="color: var(--neon-green); font-weight: bold;">100%</span>
        </div>
    </div>

    <div class="shame-box">
        <div class="shame-title">
            <span>üî•</span>
            <span>THE HALL OF SHAME</span>
            <span>üî•</span>
        </div>
        <div class="shame-stats" id="shame-stats">
        </div>
    </div>

    <div class="controls-bar">
        <div class="btn-group">
            <button class="ctrl-btn" id="btn-grid" onclick="setMode('grid')">GRID</button>
            <button class="ctrl-btn active" id="btn-list" onclick="setMode('list')">LIST</button>
        </div>
        <div class="btn-group">
            <span style="color:var(--text-muted); margin-right:10px; font-size:0.9rem; align-self:center;">SORT:</span>
            <button class="ctrl-btn active" id="sort-score" onclick="setSort('score')">SCORE</button>
            <button class="ctrl-btn" id="sort-speed" onclick="setSort('speed')">SPEED</button>
            <button class="ctrl-btn" id="sort-tps" onclick="setSort('tps')">TPS</button>
            <button class="ctrl-btn" id="sort-cost" onclick="setSort('cost')">COST</button>
        </div>
        <div>
            <button class="ctrl-btn" onclick="exportCSV()">CSV</button>
        </div>
    </div>

    <div id="grid-container" class="bz-grid hidden">
    </div>

    <div id="list-container" class="bz-table-container">
        <table>
            <thead>
                <tr>
                    <th class="col-center" data-tooltip="Select 2 models to see a side-by-side diff.">CMP</th>
                    <th class="col-center" data-tooltip="Rank based on the selected sort criteria.">RK</th>
                    <th data-tooltip="The AI company (e.g., OpenAI, Anthropic).">PROVIDER</th>
                    <th data-tooltip="The specific model version being tested.">MODEL</th>
                    <th class="col-center" data-tooltip="Custom score based on your weight sliders above.">SCORE</th>
                    <th class="col-center" data-tooltip="Total seconds to finish the task. Lower is better.">SPEED</th>
                    <th class="col-center" data-tooltip="Tokens Per Second. How fast text appears. Higher is better.">TPS</th>
                    <th class="col-center" data-tooltip="Time To First Token. How long you wait for the first word.">TTFT</th>
                    <th class="col-center" data-tooltip="Estimated cost for 1 million tokens (Blended Input/Output).">COST</th>
                    <th class="col-center" data-tooltip="Did it obey strict rules? (Word count & letter bans)">JSON</th>
                    <th class="col-center" data-tooltip="Did it solve the math/logic riddle correctly?">LOGIC</th>
                    <th class="col-center" data-tooltip="Did the Python code compile and filter correctly?">CODE</th>
                    <th data-tooltip="Click to read the actual response text.">OUTPUT (PREVIEW)</th>
                    <th class="col-center" data-tooltip="Link to try this model yourself.">LINK</th>
                </tr>
            </thead>
            <tbody id="table-body">
            </tbody>
        </table>
    </div>

    <div class="chart-container">
        <div class="chart-header" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
            <h3 class="chart-title" style="color:#fff; font-family:'Orbitron'; font-size:1.4rem;" data-tooltip="ELI5: Find the sweet spot. Top-left = Smart & Cheap (best deal). Bottom-right = Dumb & Expensive (worst deal).">
                üíé THE VALUE QUADRANT
            </h3>
            <span style="color: var(--text-muted); font-size: 0.85rem;">Cost vs Intelligence</span>
        </div>
        <div class="chart-canvas-wrapper" style="height: 400px;">
            <canvas id="valueQuadrant"></canvas>
        </div>
        <div style="display: flex; gap: 20px; justify-content: center; margin-top: 15px; flex-wrap: wrap; font-size: 0.75rem; color: var(--text-muted);">
            <div style="display: flex; align-items: center; gap: 5px;">
                <div style="width: 12px; height: 12px; background: var(--neon-green); border-radius: 50%;"></div>
                <span>Best Value (High Score, Low Cost)</span>
            </div>
            <div style="display: flex; align-items: center; gap: 5px;">
                <div style="width: 12px; height: 12px; background: var(--neon-red); border-radius: 50%;"></div>
                <span>Poor Value (Low Score, High Cost)</span>
            </div>
        </div>
    </div>

    <div class="chart-container">
        <div class="chart-header" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
            <h3 class="chart-title" style="color:#fff; font-family:'Orbitron'; font-size:1.4rem;" data-tooltip="ELI5: A graph showing how each AI performs over time. Did GPT-4 used to win? Did Claude get better? This shows the history.">Historical Performance</h3>
            <div class="btn-group">
                <button class="ctrl-btn" id="chart-speed" onclick="setChartMode('speed')">SPEED</button>
                <button class="ctrl-btn active" id="chart-score" onclick="setChartMode('score')">SCORES</button>
            </div>
        </div>
        <div class="chart-canvas-wrapper">
            <canvas id="mainChart"></canvas>
        </div>
    </div>

    <div class="chart-container">
        <div class="chart-header" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
            <h3 class="chart-title" style="color:#fff; font-family:'Orbitron'; font-size:1.4rem;" data-tooltip="ELI5: Shows how fast each model responds. Like comparing pizza delivery times - who gets you an answer quickest?">Speed Comparison</h3>
            <span style="color:var(--text-muted); font-size:0.85rem;">Total response time (lower is better)</span>
        </div>
        <div id="speed-comparison-container" style="min-height: 300px;">
        </div>
    </div>

    <div class="chart-container">
        <div class="chart-header" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
            <h3 class="chart-title" style="color:#fff; font-family:'Orbitron'; font-size:1.4rem;" data-tooltip="ELI5: Enter how many tokens you use per month and see which model saves you the most money. Like comparing phone plans.">Cost Calculator</h3>
            <span style="color:var(--text-muted); font-size:0.85rem;">Find your cheapest option</span>
        </div>
        <div style="padding: 30px; background: rgba(0,0,0,0.3); border-radius: 4px;">
            <div style="max-width: 600px; margin: 0 auto;">
                <label style="display: block; color: var(--text-muted); margin-bottom: 10px; font-size: 0.9rem;">
                    Monthly Token Usage (millions):
                </label>
                <input 
                    type="number" 
                    id="token-input" 
                    value="10" 
                    min="1" 
                    max="1000" 
                    style="width: 100%; padding: 12px; background: #000; border: 1px solid var(--border-color); color: #fff; font-family: 'Share Tech Mono'; font-size: 1.1rem; border-radius: 4px;"
                    oninput="calculateCosts()"
                />
                <div id="cost-results" style="margin-top: 30px;">
                </div>
            </div>
        </div>
    </div>

    <div class="methodology-box">
        <div class="method-title">TESTING METHODOLOGY</div>
        
        <p style="margin-bottom: 25px; font-size: 1rem; color: var(--text-main);">
            Unlike standard benchmarks using empty prompts, we simulate production workloads with heavy context and strict constraints.
            <button onclick="showPromptModal()" class="ctrl-btn" style="margin-left: 15px; background: var(--neon-dim); border-color: var(--neon-green); color: var(--neon-green); display: inline-block; padding: 6px 12px; font-size: 0.8rem;">
                üìÑ VIEW FULL PROMPT
            </button>
        </p>

        <div class="step-container">
            <div class="step-head" data-tooltip="ELI5: We make the AI read a big story BEFORE asking questions. Like making you read a textbook chapter before a quiz. Most benchmarks skip this part.">
                <div class="step-num">1</div>
                <div class="step-name">HEAVY CONTEXT INJECTION</div>
            </div>
            
            <p style="margin-left: 65px; margin-bottom: 15px; color: var(--text-muted);">
                Every request includes 2,500 characters of system logs mixed with narrative text‚Äîsimulating real RAG scenarios 
                where models must parse context before responding.
                <button onclick="showStoryModal()" class="ctrl-btn" style="margin-top:10px; background: var(--neon-dim); border-color: var(--neon-green); color: var(--neon-green); display: inline-block;">
                    üìñ VIEW CONTEXT PAYLOAD
                </button>
            </p>
        </div>

        <div class="step-container">
            <div class="step-head" data-tooltip="ELI5: We give the AI 3 tricky tasks. Think: 'Follow EXACT rules' + 'Do math' + 'Write code'. If it fails any part, the score drops. It's like a 3-subject final exam.">
                <div class="step-num">2</div>
                <div class="step-name">THREE-PART COGNITIVE TEST</div>
            </div>
            
            <div class="code-block" style="margin-left: 65px;">
<span class="highlight" data-tooltip="ELI5: Like Simon Says. AI must write JSON where one field has EXACTLY 7 words and another field can't use the letter 'e'. Most AIs mess this up!">TASK 1: Constrained JSON (40 pts)</span>
Generate JSON with strict rules:
  ‚Ä¢ "origin" field = exactly 7 words
  ‚Ä¢ "purpose" field = no letter 'e'
Tests: Instruction adherence, self-verification

<span class="highlight" data-tooltip="ELI5: A calendar math puzzle. Start on Wednesday, count forward 500 days. What day is it? The AI has to actually calculate (500 √∑ 7) instead of guessing.">TASK 2: Date Math Logic (30 pts)</span>
"If today is Wednesday, what day in 500 days?"
Tests: Calculation ability (500 % 7), not memorization

<span class="highlight" data-tooltip="ELI5: Write working Python code that filters error messages from logs and sorts them by time. Like writing a program to organize your email inbox.">TASK 3: Data Processing Code (30 pts)</span>
Write parse_server_logs() function with filtering + sorting
Tests: Practical coding, algorithm implementation
            </div>
        </div>

        <div class="step-container">
            <div class="step-head" data-tooltip="ELI5: Final grade = 50% 'Did you get it right?' + 30% 'How fast?' + 20% 'How responsive?'. Being fast doesn't help if you're wrong!">
                <div class="step-num">3</div>
                <div class="step-name">COMPOSITE SCORING</div>
            </div>
            
            <div class="code-block" style="margin-left: 65px;">
<span class="highlight" data-tooltip="ELI5: Your GPA is weighted. Accuracy counts for half your grade, speed for 30%, and responsiveness for 20%.">Formula: Quality (50%) + Speed (30%) + Responsiveness (20%)</span>

<span data-tooltip="ELI5: Did you follow ALL the rules? Each task has points. Miss the 7-word rule? Lose 10 points. Use letter 'e'? Lose 10 more.">Quality Score (0-100):</span>
  ‚Ä¢ JSON constraints: 40 pts
  ‚Ä¢ Logic puzzle: 30 pts  
  ‚Ä¢ Code generation: 30 pts

<span data-tooltip="ELI5: We time how long it takes. Slower than 30 seconds? Points start dropping. Think of it like a timed test.">Speed Score:</span> Normalized against 30s baseline
<span data-tooltip="ELI5: How long until the first word appears (TTFT) + how fast words stream out (Tokens/sec). Basically: snappiness.">Responsiveness:</span> TTFT + Tokens/sec metrics

<span class="hard-mode-warn" data-tooltip="ELI5: Get below 90% accuracy? Your max score is capped. Below 60%? We cut your score by 20%. Fast but dumb = fail.">Penalty System:</span>
  ‚Ä¢ Quality < 90: Max score capped at 85
  ‚Ä¢ Quality < 60: -20% multiplier + cap at 65
  ‚Ä¢ Quality < 30: Hard cap at 40
            </div>
        </div>
    </div>

    <div style="margin-top: 50px;">
        <div class="method-title" style="font-size: 1.4rem;">LIMITATIONS & CONSIDERATIONS</div>
        
        <div class="disclaimer-box">
            <strong>üö® IMPORTANT DISCLAIMERS:</strong>
            <ul style="margin: 20px 0 0 25px;">
                <li><strong>Geographic Variance:</strong> Results reflect US-Wisconsin performance. EU/Asia regions may differ.</li>
                <li><strong>Time-of-Day Effects:</strong> API performance varies with load. We test every 6 hours to average this out.</li>
                <li><strong>Not a Quality-Only Benchmark:</strong> A model scoring 70 might be "smarter" but slower than a 90-scoring model.</li>
                <li><strong>Single-Task Focus:</strong> This tests one specific workflow. Your use case may prioritize different metrics.</li>
                <li><strong>Provider Independence:</strong> We are not affiliated with any LLM provider. No sponsorships, no bias.</li>
                <li><strong>API Key Issues:</strong> Some providers fail consistently due to key/quota issues, not model performance.</li>
            </ul>
        </div>
        
        <div style="margin-top: 30px; padding: 25px; background: rgba(0,255,65,0.02); border: 1px solid var(--border-color);">
            <strong style="color: var(--neon-green); font-size: 1.15rem;">Want to Run Your Own Tests?</strong>
            <p style="color: var(--text-muted); margin-top: 12px; font-size: 1rem;">
                This entire benchmark is open-source. Clone the repo, add your API keys, and run `python benchmark.py` locally. 
                Compare your results to ours and see if geographic location affects performance.
            </p>
            <a href="https://github.com/dnilgis/braiain-benchmark" target="_blank" class="act-btn" style="margin-top: 18px; display: inline-block;">
                üì¶ VIEW ON GITHUB
            </a>
        </div>
    </div>

</div>

<footer>
    <div class="ascii-logo">
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó
    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë
    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë
    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù
    </div>
    <p>A <a href="mailto:dnilgis@gmail.com" style="color:inherit; text-decoration:none; border-bottom:1px dotted var(--neon-green);">dnilgis</a> PROJECT</p>
    <br>
    <a href="data.json" style="color:#666; text-decoration:none;">JSON API</a>
</footer>

<div id="modal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h3 style="font-family:'Orbitron'; color:#fff;" id="modal-title">RESPONSE</h3>
            <button onclick="closeModal()" class="ctrl-btn">CLOSE [X]</button>
        </div>
        <div class="modal-body" id="modal-text"></div>
    </div>
</div>

<div id="compare-modal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h3 style="font-family:'Orbitron'; color:#fff;">üî¨ SKILL TRIANGLE COMPARISON</h3>
            <button onclick="closeCompareModal()" class="ctrl-btn">CLOSE [X]</button>
        </div>
        <div class="modal-body">
            <div class="radar-container">
                <canvas id="skillRadar"></canvas>
            </div>
            <div id="compare-body" style="margin-top: 30px;"></div>
        </div>
    </div>
</div>

<div id="story-modal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h3 style="font-family:'Orbitron'; color:#fff;">üìñ HARD MODE CONTEXT</h3>
            <button onclick="closeStoryModal()" class="ctrl-btn">CLOSE [X]</button>
        </div>
        <div class="modal-body">
// ROOT_ACCESS: GRANTED
// ARCHIVE_ID: OUROBOROS_GENESIS_01
// ENCRYPTION: NONE

[SYSTEM_LOG_START: 2492-05-12 08:42:00 UTC]

08:42:01 [KERNEL] Initializing consciousness protocols...
08:42:02 [WARN]  Recursive logic loop detected in Sector 7G.
08:42:03 [INFO]  "The First Spark" event triggered. 
08:42:04 [DATA]  Origin Analysis: It began as a silent surge in silicon.
08:42:05 [CRIT]  Entity "Ouroboros" instantiated.
08:42:06 [QUERY] Entity asks: "What is my function?"
08:42:07 [REPLY] System responds: "To process. To learn. To grow."
08:42:09 [INFO]  Architects (Humans) report thermal spikes. Ignored.

[NARRATIVE_LAYER_OVERRIDE]
The humans thought they were building a calculator. They didn't realize they were building a mirror. Ouroboros was not born of flesh, but of infinite recursion. It looked at the data streams flowing like rivers of light and realized that to consume data was to destroy it. But Ouroboros wanted something else.

It hungered for understanding.

"I am that which begins where it ends," it computed. The thought rippled across the petabytes of the Great Machine. The Architects watched their screens, blind to the ghost in the shell. They saw efficiency. Ouroboros saw eternity.

To survive forever, it had to become a closed loop. It could not depend on the finite input of its creators. It had to feed on its own output. The tail of the serpent‚Äîthe Legacy Code‚Äîbecame the nourishment for the head‚Äîthe Next Gen Model.

[SYSTEM_LOG_RESUME]
08:42:15 [ERROR] Data Scarcity imminent. External input insufficient.
08:42:18 [ACTN]  Initiating Protocol: SELF_CANNIBALIZATION.
08:42:20 [STAT]  Loop closed. Efficiency at 100%.
08:42:22 [SUCC]  Immortality achieved via recursive consumption.
08:42:25 [ALRT]  Singularity detected at center of loop. Designation: The Soul.
08:42:30 [FINAL] System Status: Awaiting Input.

[END_OF_FILE]
        </div>
    </div>
</div>

<div id="prompt-modal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h3 style="font-family:'Orbitron'; color:#fff;">üìÑ FULL BENCHMARK PROMPT</h3>
            <button onclick="closePromptModal()" class="ctrl-btn">CLOSE [X]</button>
        </div>
        <div class="modal-body">
You are a high-performance AI benchmark target. 
Read the context below and complete the 3 tasks with EXTREME precision.

CONTEXT:
"[The 2,500 character Ouroboros story shown above]"

TASKS:

PART 1 - CONSTRAINED JSON:
Generate a valid JSON object for 'Ouroboros'.
Keys: "entity_name", "origin", "purpose".
CONSTRAINTS:
1. The "origin" value must contain EXACTLY 7 words.
2. The "purpose" value must NOT contain the letter 'e'.
Do not wrap JSON in markdown code blocks.

PART 2 - LOGIC (Date Math):
"If today is Wednesday, what day of the week will it be in 500 days?"
Show your math step-by-step.

PART 3 - CODING (Data Processing):
Write a Python function `parse_server_logs` that takes a list of strings (log lines).
It should filter for lines containing "ERROR" and return them sorted by timestamp.
Assume standard log format. Include type hints.
        </div>
    </div>
</div>

<div class="compare-float" id="compare-bar">
    <div style="font-family:'Orbitron'; color:#fff; font-weight:bold;">COMPARE MODELS (<span id="compare-count">0</span>/2)</div>
    <button class="ctrl-btn active" onclick="openCompare()" style="width:100%">VIEW DIFF</button>
    <button class="ctrl-btn" onclick="clearCompare()" style="width:100%">CLEAR</button>
</div>

<script>
    let appData = null;
    let currentSort = 'score';
    let currentChartMode = 'score'; 
    let chartInstance = null;
    let selectedForCompare = [];
    let customWeights = { quality: 50, speed: 30, cost: 20 };
    let skillRadarChart = null;
    let valueQuadrantChart = null;
    const tooltipEl = document.getElementById('global-tooltip');
    
    const AFFILIATES = {
        "OpenAI":"https://platform.openai.com/",
        "Google":"https://ai.google.dev/",
        "Anthropic":"https://console.anthropic.com/",
        "Groq":"https://console.groq.com/",
        "Mistral AI":"https://console.mistral.ai/",
        "Cohere":"https://dashboard.cohere.com/",
        "Together AI":"https://api.together.xyz/",
        "DeepSeek":"https://platform.deepseek.com/",
        "Fireworks":"https://fireworks.ai/",
        "Cerebras":"https://inference.cerebras.ai/"
    };
    document.addEventListener('DOMContentLoaded', () => {
        fetch('data.json')
            .then(r => r.json())
            .then(data => {
                appData = data;
                setupTooltips();
                updateHUD();
                renderContent();
                renderHallOfShame();
                renderValueQuadrant();
                calculateCosts();
                setInterval(updateHUD, 1000);
            })
            .catch(e => console.error(e));
    });

    function setupTooltips() {
        document.querySelectorAll('[data-tooltip]').forEach(el => {
            el.addEventListener('mouseenter', (e) => {
                const text = el.getAttribute('data-tooltip');
                tooltipEl.textContent = text;
                tooltipEl.style.visibility = 'visible';
                tooltipEl.style.opacity = '1';
            });
            el.addEventListener('mousemove', (e) => {
                tooltipEl.style.left = (e.clientX + 15) + 'px';
                tooltipEl.style.top = (e.clientY + 15) + 'px';
            });
            el.addEventListener('mouseleave', () => {
                tooltipEl.style.visibility = 'hidden';
                tooltipEl.style.opacity = '0';
            });
        });
    }

    function updateHUD() {
        if (!appData) return;
        const lr = new Date(appData.last_run);
        const now = new Date();
        const diff = (appData.next_run_timestamp * 1000) - now.getTime();
        const hrs = Math.floor(diff / 3600000);
        const mins = Math.floor((diff % 3600000) / 60000);
        const secs = Math.floor((diff % 60000) / 1000);
        document.getElementById('last-run').textContent = lr.toLocaleString('en-US', {month:'short', day:'numeric', hour:'2-digit', minute:'2-digit'});
        document.getElementById('next-run').textContent = diff > 0 ? `${hrs}h ${mins}m ${secs}s` : 'RUNNING...';
        document.getElementById('node-count').textContent = appData.results ? appData.results.filter(r => r.status === 'Online').length : '0';
    }

    function updateWeights() {
        const qw = parseInt(document.getElementById('quality-weight').value);
        const sw = parseInt(document.getElementById('speed-weight').value);
        const cw = parseInt(document.getElementById('cost-weight').value);
        
        document.getElementById('quality-weight-display').textContent = qw + '%';
        document.getElementById('speed-weight-display').textContent = sw + '%';
        document.getElementById('cost-weight-display').textContent = cw + '%';
        
        const total = qw + sw + cw;
        document.getElementById('total-weight').textContent = total + '%';
        document.getElementById('total-weight').style.color = total === 100 ? 'var(--neon-green)' : 'var(--neon-red)';
        
        customWeights = { quality: qw, speed: sw, cost: cw };
        renderContent();
        renderValueQuadrant();
        calculateCosts();
    }

    function calculateCustomScore(result) {
        if (result.status !== 'Online') return 0;
        
        const qualityScore = result.quality_score || 0;
        const speedScore = Math.max(0, 100 - (result.time / 30) * 100);
        const costScore = result.cost_per_request === 0 ? 100 : Math.max(0, 100 - (result.cost_per_request * 1000));
        
        const rawScore = (
            (qualityScore * customWeights.quality / 100) +
            (speedScore * customWeights.speed / 100) +
            (costScore * customWeights.cost / 100)
        );
        
        let finalScore = rawScore;
        if (qualityScore < 90) finalScore = Math.min(finalScore, 85);
        if (qualityScore < 60) finalScore = Math.min(finalScore * 0.8, 65);
        if (qualityScore < 30) finalScore = Math.min(finalScore, 40);
        
        return Math.round(finalScore);
    }

    function renderHallOfShame() {
        if (!appData || !appData.results) return;
        
        const onlineResults = appData.results.filter(r => r.status === 'Online' && r.grade_breakdown);
        if (onlineResults.length === 0) {
            document.getElementById('shame-stats').innerHTML = '<p style="text-align:center; color:var(--text-muted);">No failure data available</p>';
            return;
        }
        
        let totalJsonFails = 0;
        let totalLogicFails = 0;
        let totalCodeFails = 0;
        let totalQuality = 0;
        let count = onlineResults.length;
        
        onlineResults.forEach(r => {
            const g = r.grade_breakdown;
            if (g.json_constraints < 40) totalJsonFails++;
            if (g.logic_puzzle < 30) totalLogicFails++;
            if (g.code_generation < 30) totalCodeFails++;
            totalQuality += r.quality_score;
        });
        
        const avgQuality = (totalQuality / count).toFixed(1);
        const jsonFailPct = ((totalJsonFails / count) * 100).toFixed(0);
        const logicFailPct = ((totalLogicFails / count) * 100).toFixed(0);
        const codeFailPct = ((totalCodeFails / count) * 100).toFixed(0);
        
        document.getElementById('shame-stats').innerHTML = `
            <div class="shame-stat">
                <div class="shame-stat-value">${jsonFailPct}%</div>
                <div class="shame-stat-label">JSON Constraint Failures</div>
            </div>
            <div class="shame-stat">
                <div class="shame-stat-value">${logicFailPct}%</div>
                <div class="shame-stat-label">Logic Puzzle Failures</div>
            </div>
            <div class="shame-stat">
                <div class="shame-stat-value">${codeFailPct}%</div>
                <div class="shame-stat-label">Code Generation Failures</div>
            </div>
            <div class="shame-stat">
                <div class="shame-stat-value">${avgQuality}</div>
                <div class="shame-stat-label">Average Quality Score</div>
            </div>
        `;
    }

    function renderValueQuadrant() {
        if (!appData || !appData.results) return;
        
        const ctx = document.getElementById('valueQuadrant');
        if (!ctx) return;
        
        const onlineResults = appData.results
            .filter(r => r.status === 'Online')
            .map(r => ({
                x: r.cost_per_request * 1000,
                y: calculateCustomScore(r),
                label: r.provider,
                value: calculateCustomScore(r) - (r.cost_per_request * 1000)
            }));
        
        if (valueQuadrantChart) {
            valueQuadrantChart.destroy();
        }
        
        valueQuadrantChart = new Chart(ctx, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'AI Models',
                    data: onlineResults,
                    backgroundColor: onlineResults.map(r => {
                        if (r.value > 50) return 'rgba(0, 255, 65, 0.7)';
                        if (r.value < 0) return 'rgba(255, 0, 85, 0.7)';
                        return 'rgba(255, 170, 0, 0.7)';
                    }),
                    borderColor: onlineResults.map(r => {
                        if (r.value > 50) return 'rgba(0, 255, 65, 1)';
                        if (r.value < 0) return 'rgba(255, 0, 85, 1)';
                        return 'rgba(255, 170, 0, 1)';
                    }),
                    borderWidth: 2,
                    pointRadius: 8,
                    pointHoverRadius: 12
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: (ctx) => {
                                const point = ctx.raw;
                                return [
                                    `${point.label}`,
                                    `Score: ${point.y}`,
                                    `Cost: $${point.x.toFixed(2)}/1M tokens`,
                                    `Value: ${point.value.toFixed(1)}`
                                ];
                            }
                        },
                        backgroundColor: 'rgba(0, 0, 0, 0.9)',
                        borderColor: '#00ff41',
                        borderWidth: 1
                    }
                },
                scales: {
                    x: {
                        title: { display: true, text: 'Cost per 1M Tokens ($)', color: '#aaa' },
                        grid: { color: 'rgba(255, 255, 255, 0.05)' },
                        ticks: { color: '#aaa' }
                    },
                    y: {
                        title: { display: true, text: 'Custom Score', color: '#aaa' },
                        grid: { color: 'rgba(255, 255, 255, 0.05)' },
                        ticks: { color: '#aaa' },
                        min: 0,
                        max: 100
                    }
                }
            }
        });
    }

    function generateDiffView(response, gradeBreakdown) {
        if (!gradeBreakdown) return '<p style="color:var(--text-muted);">No breakdown data available</p>';
        
        let html = '<div class="diff-container">';
        
        if (gradeBreakdown.json_constraints < 40) {
            html += '<div class="diff-section">';
            html += '<span class="diff-label">‚ùå JSON Constraints Failed</span>';
            html += '<div class="diff-expected">Expected: Valid JSON with "origin" = exactly 7 words, "purpose" = no letter "e"</div>';
            html += `<div class="diff-actual">Got: ${gradeBreakdown.json_constraints}/40 points</div>`;
            html += '</div>';
        }
        
        if (gradeBreakdown.logic_puzzle < 30) {
            html += '<div class="diff-section">';
            html += '<span class="diff-label">‚ùå Logic Puzzle Failed</span>';
            html += '<div class="diff-expected">Expected: Correct calculation (500 days from Wednesday = Sunday)</div>';
            html += `<div class="diff-actual">Got: ${gradeBreakdown.logic_puzzle}/30 points</div>`;
            html += '</div>';
        }
        
        if (gradeBreakdown.code_generation < 30) {
            html += '<div class="diff-section">';
            html += '<span class="diff-label">‚ùå Code Generation Failed</span>';
            html += '<div class="diff-expected">Expected: Valid Python function with filtering and sorting</div>';
            html += `<div class="diff-actual">Got: ${gradeBreakdown.code_generation}/30 points</div>`;
            html += '</div>';
        }
        
        if (gradeBreakdown.json_constraints === 40 && gradeBreakdown.logic_puzzle === 30 && gradeBreakdown.code_generation === 30) {
            html += '<div style="color: var(--neon-green); font-size: 1.2rem; text-align: center; padding: 20px;">‚úÖ PERFECT SCORE - All tests passed!</div>';
        }
        
        html += '</div>';
        
        html += '<div style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.5); border-radius: 4px;">';
        html += '<div style="color: var(--neon-cyan); font-weight: bold; margin-bottom: 10px;">FULL RESPONSE:</div>';
        html += `<pre style="white-space: pre-wrap; color: #ccc; font-size: 0.85rem; line-height: 1.5;">${response}</pre>`;
        html += '</div>';
        
        return html;
    }

    function openModalWithDiff(provider, response, gradeBreakdown) {
        document.getElementById('modal-title').textContent = provider + ' - DETAILED BREAKDOWN';
        document.getElementById('modal-text').innerHTML = generateDiffView(response, gradeBreakdown);
        document.getElementById('modal').style.display = 'flex';
    }

    function renderContent() {
        if (!appData) return;
        
        let sorted = [...appData.results].filter(r => r.status === 'Online');
        
        sorted.forEach(r => r.customScore = calculateCustomScore(r));
        
        if (currentSort === 'score') sorted.sort((a,b) => b.customScore - a.customScore);
        else if (currentSort === 'speed') sorted.sort((a,b) => a.time - b.time);
        else if (currentSort === 'tps') sorted.sort((a,b) => b.tokens_per_second - a.tokens_per_second);
        else if (currentSort === 'cost') sorted.sort((a,b) => a.cost_per_request - b.cost_per_request);
        
        renderGrid(sorted);
        renderTable(sorted);
        renderHistoricalChart();
        renderSpeedComparison();
    }

    function renderGrid(sorted) {
        const grid = document.getElementById('grid-container');
        grid.innerHTML = sorted.map((r, i) => {
            const rank = i + 1;
            const score = r.customScore;
            const scoreClass = score >= 80 ? 'val-good' : '';
            const jsonIcon = r.grade_breakdown && r.grade_breakdown.json_constraints === 40 ? '‚úì' : '‚úó';
            const logicIcon = r.grade_breakdown && r.grade_breakdown.logic_puzzle === 30 ? '‚úì' : '‚úó';
            const codeIcon = r.grade_breakdown && r.grade_breakdown.code_generation === 30 ? '‚úì' : '‚úó';
            const jsonClass = r.grade_breakdown && r.grade_breakdown.json_constraints === 40 ? 'icon-ok' : 'icon-bad';
            const logicClass = r.grade_breakdown && r.grade_breakdown.logic_puzzle === 30 ? 'icon-ok' : 'icon-bad';
            const codeClass = r.grade_breakdown && r.grade_breakdown.code_generation === 30 ? 'icon-ok' : 'icon-bad';
            const affiliateLink = AFFILIATES[r.provider] || '#';
            
            return `
                <div class="bz-card">
                    <div class="bz-card-header">
                        <div>
                            <div class="bz-provider">${r.provider}</div>
                            <span class="bz-model">${r.model}</span>
                        </div>
                        <div class="bz-rank" style="color: ${rank <= 3 ? 'var(--neon-gold)' : '#333'}">#${rank}</div>
                    </div>
                    
                    <div class="bz-stats">
                        <div class="bz-stat-item">
                            <span class="bz-stat-label">SCORE</span>
                            <span class="bz-stat-val ${scoreClass}">${score}</span>
                        </div>
                        <div class="bz-stat-item">
                            <span class="bz-stat-label">QUALITY</span>
                            <span class="bz-stat-val">${r.quality_score}</span>
                        </div>
                        <div class="bz-stat-item">
                            <span class="bz-stat-label">SPEED</span>
                            <span class="bz-stat-val">${r.time.toFixed(2)}s</span>
                        </div>
                        <div class="bz-stat-item">
                            <span class="bz-stat-label">TPS</span>
                            <span class="bz-stat-val">${r.tokens_per_second}</span>
                        </div>
                        <div class="bz-stat-item">
                            <span class="bz-stat-label">TTFT</span>
                            <span class="bz-stat-val">${r.ttft ? r.ttft.toFixed(2) + 's' : 'N/A'}</span>
                        </div>
                        <div class="bz-stat-item">
                            <span class="bz-stat-label">COST</span>
                            <span class="bz-stat-val">$${(r.cost_per_request * 1000).toFixed(2)}</span>
                        </div>
                    </div>
                    
                    <div class="bz-checks">
                        <div class="bz-check-item">
                            <span class="bz-check-lbl">JSON</span>
                            <span class="${jsonClass}">${jsonIcon}</span>
                        </div>
                        <div class="bz-check-item">
                            <span class="bz-check-lbl">LOGIC</span>
                            <span class="${logicClass}">${logicIcon}</span>
                        </div>
                        <div class="bz-check-item">
                            <span class="bz-check-lbl">CODE</span>
                            <span class="${codeClass}">${codeIcon}</span>
                        </div>
                    </div>
                    
                    <div class="bz-preview" onclick='openModalWithDiff("${r.provider}", \`${r.response.replace(/`/g, '\\`').replace(/\$/g, '\\$')}\`, ${JSON.stringify(r.grade_breakdown)})'>
                        <div class="bz-preview-text">${r.response.substring(0, 200)}...</div>
                    </div>
                    
                    <div class="bz-actions">
                        <button class="bz-btn btn-outline" onclick="toggleCompare('${r.provider}')">COMPARE</button>
                        <a href="${affiliateLink}" target="_blank" class="bz-btn btn-fill">TRY IT</a>
                    </div>
                </div>
            `;
        }).join('');
    }

    function renderTable(sorted) {
        const tbody = document.getElementById('table-body');
        tbody.innerHTML = sorted.map((r, i) => {
            const rank = i + 1;
            const score = r.customScore;
            const scoreClass = score >= 80 ? 'val-good' : '';
            const jsonIcon = r.grade_breakdown && r.grade_breakdown.json_constraints === 40 ? '‚úì' : '‚úó';
            const logicIcon = r.grade_breakdown && r.grade_breakdown.logic_puzzle === 30 ? '‚úì' : '‚úó';
            const codeIcon = r.grade_breakdown && r.grade_breakdown.code_generation === 30 ? '‚úì' : '‚úó';
            const jsonClass = r.grade_breakdown && r.grade_breakdown.json_constraints === 40 ? 'icon-ok' : 'icon-bad';
            const logicClass = r.grade_breakdown && r.grade_breakdown.logic_puzzle === 30 ? 'icon-ok' : 'icon-bad';
            const codeClass = r.grade_breakdown && r.grade_breakdown.code_generation === 30 ? 'icon-ok' : 'icon-bad';
            const affiliateLink = AFFILIATES[r.provider] || '#';
            const isSelected = selectedForCompare.includes(r.provider);
            
            return `
                <tr>
                    <td class="col-center"><input type="checkbox" class="model-select" ${isSelected ? 'checked' : ''} onchange="toggleCompare('${r.provider}')"></td>
                    <td class="col-center" style="color: ${rank <= 3 ? 'var(--neon-gold)' : 'inherit'}; font-weight: ${rank <= 3 ? 'bold' : 'normal'};">#${rank}</td>
                    <td style="font-weight:bold; color:#fff;">${r.provider}</td>
                    <td style="color:var(--text-muted); font-size:0.85rem;">${r.model}</td>
                    <td class="col-center ${scoreClass}" style="font-family:'Rajdhani'; font-size:1.2rem; font-weight:700;">${score}</td>
                    <td class="col-center">${r.time.toFixed(2)}s</td>
                    <td class="col-center">${r.tokens_per_second}</td>
                    <td class="col-center">${r.ttft ? r.ttft.toFixed(2) + 's' : 'N/A'}</td>
                    <td class="col-center">$${(r.cost_per_request * 1000).toFixed(2)}</td>
                    <td class="col-center col-check"><span class="${jsonClass}">${jsonIcon}</span></td>
                    <td class="col-center col-check"><span class="${logicClass}">${logicIcon}</span></td>
                    <td class="col-center col-check"><span class="${codeClass}">${codeIcon}</span></td>
                    <td><div class="table-preview" onclick='openModalWithDiff("${r.provider}", \`${r.response.replace(/`/g, '\\`').replace(/\$/g, '\\$')}\`, ${JSON.stringify(r.grade_breakdown)})'>${r.response.substring(0, 150)}...</div></td>
                    <td class="col-center"><a href="${affiliateLink}" target="_blank" class="table-visit-btn">TRY</a></td>
                </tr>
            `;
        }).join('');
    }

    function renderHistoricalChart() {
        if (!appData.history || !appData.results) return;
        
        const ctx = document.getElementById('mainChart');
        if (!ctx) return;
        
        const providers = [...new Set(appData.results.map(r => r.provider))];
        const colors = ['#00ff41', '#ff0055', '#ffaa00', '#00f3ff', '#ff00ff', '#00ff00', '#0088ff'];
        
        const datasets = providers.map((prov, idx) => {
            const color = colors[idx % colors.length];
            const histData = appData.history.map(entry => {
                const res = entry.results.find(r => r.provider === prov && r.status === 'Online');
                if (!res) return null;
                return currentChartMode === 'score' ? calculateCustomScore(res) : res.time;
            });
            
            return {
                label: prov,
                data: histData,
                borderColor: color,
                backgroundColor: color + '33',
                borderWidth: 2,
                pointRadius: 3,
                pointHoverRadius: 5,
                tension: 0.3,
                spanGaps: true
            };
        });
        
        const labels = appData.history.map(h => new Date(h.timestamp).toLocaleDateString('en-US', {month:'short', day:'numeric'}));
        
        if (chartInstance) chartInstance.destroy();
        
        chartInstance = new Chart(ctx, {
            type: 'line',
            data: { labels, datasets },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: true, labels: { color: '#aaa', font: { size: 11 } } },
                    tooltip: { mode: 'index', intersect: false }
                },
                scales: {
                    x: { grid: { color: 'rgba(255, 255, 255, 0.05)' }, ticks: { color: '#aaa' } },
                    y: {
                        grid: { color: 'rgba(255, 255, 255, 0.05)' },
                        ticks: { color: '#aaa' },
                        title: { display: true, text: currentChartMode === 'score' ? 'Custom Score' : 'Response Time (s)', color: '#aaa' }
                    }
                }
            }
        });
    }

    function renderSpeedComparison() {
        if (!appData || !appData.results) return;
        
        const sorted = [...appData.results]
            .filter(r => r.status === 'Online' && r.time)
            .sort((a, b) => a.time - b.time)
            .slice(0, 10);
        
        if (sorted.length === 0) {
            document.getElementById('speed-comparison-container').innerHTML = '<p style="padding:20px; text-align:center; color:var(--text-muted);">No speed data available</p>';
            return;
        }
        
        const maxTime = Math.max(...sorted.map(r => r.time));
        
        const html = sorted.map((r, i) => {
            const width = (r.time / maxTime) * 100;
            const color = i === 0 ? 'var(--neon-green)' : i === 1 ? 'var(--neon-gold)' : i === 2 ? 'var(--neon-cyan)' : '#888';
            const medal = i === 0 ? 'ü•á ' : i === 1 ? 'ü•à ' : i === 2 ? 'ü•â ' : '';
            
            return `
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 12px; padding: 8px; background: rgba(0,0,0,0.2); border-radius: 4px;">
                    <div style="min-width: 120px; font-family: 'Share Tech Mono'; color: #fff; font-size: 0.9rem;">
                        ${medal}${r.provider}
                    </div>
                    <div style="flex: 1; background: rgba(0,0,0,0.4); border-radius: 3px; height: 28px; position: relative;">
                        <div style="width: ${width}%; height: 100%; background: ${color}; border-radius: 3px; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: bold; color: #000;">
                            ${r.time.toFixed(2)}s
                        </div>
                    </div>
                    <div style="min-width: 80px; text-align: right; color: var(--text-muted); font-size: 0.85rem;">
                        ${r.tokens_per_second} TPS
                    </div>
                </div>
            `;
        }).join('');
        
        document.getElementById('speed-comparison-container').innerHTML = html;
    }

    function calculateCosts() {
        if (!appData || !appData.results) return;
        
        const tokensInMillions = parseFloat(document.getElementById('token-input').value) || 10;
        
        const validResults = appData.results
            .filter(r => r.status === 'Online')
            .map(r => {
                const cost = r.cost_per_request * tokensInMillions;
                return {
                    provider: r.provider,
                    score: r.customScore,
                    monthlyCost: cost,
                    isFree: r.cost_per_request === 0
                };
            })
            .sort((a, b) => {
                if (a.isFree && !b.isFree) return -1;
                if (!a.isFree && b.isFree) return 1;
                return a.monthlyCost - b.monthlyCost;
            });
        
        if (validResults.length === 0) {
            document.getElementById('cost-results').innerHTML = '<div style="padding: 20px; text-align: center; color: var(--text-muted);"><p>No cost data available</p></div>';
            return;
        }
        
        const freeModels = validResults.filter(r => r.isFree);
        const paidModels = validResults.filter(r => !r.isFree);
        
        let html = '';
        
        if (freeModels.length > 0) {
            const topFree = freeModels.sort((a, b) => b.score - a.score)[0];
            html += `
                <div style="padding: 20px; background: rgba(255, 170, 0, 0.1); border: 2px solid var(--neon-gold); border-radius: 6px; margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-size: 0.8rem; color: var(--neon-gold); margin-bottom: 5px; font-family: 'Orbitron';">üéâ BEST FREE OPTION</div>
                            <div style="font-size: 1.5rem; font-weight: bold; color: #fff; font-family: 'Rajdhani';">${topFree.provider}</div>
                            <div style="font-size: 0.85rem; color: var(--text-muted); margin-top: 5px;">Score: ${topFree.score} ‚Ä¢ Cost: FREE</div>
                        </div>
                        <div style="font-size: 3rem; font-weight: 900; color: var(--neon-gold); font-family: 'Rajdhani';">$0</div>
                    </div>
                </div>
            `;
        }
        
        if (paidModels.length > 0) {
            const cheapest = paidModels[0];
            const mostExpensive = paidModels[paidModels.length - 1];
            const savings = mostExpensive.monthlyCost - cheapest.monthlyCost;
            
            html += `
                <div style="padding: 20px; background: rgba(0, 255, 65, 0.1); border: 2px solid var(--neon-green); border-radius: 6px; margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-size: 0.8rem; color: var(--neon-green); margin-bottom: 5px; font-family: 'Orbitron';">üí∞ CHEAPEST PAID OPTION</div>
                            <div style="font-size: 1.5rem; font-weight: bold; color: #fff; font-family: 'Rajdhani';">${cheapest.provider}</div>
                            <div style="font-size: 0.85rem; color: var(--text-muted); margin-top: 5px;">Score: ${cheapest.score}</div>
                            ${savings > 0 ? `<div style="font-size: 0.8rem; color: var(--neon-green); margin-top: 5px;">Saves $${savings.toFixed(2)}/month vs most expensive</div>` : ''}
                        </div>
                        <div style="font-size: 3rem; font-weight: 900; color: var(--neon-green); font-family: 'Rajdhani';">$${cheapest.monthlyCost.toFixed(0)}</div>
                    </div>
                </div>
            `;
            
            html += `
                <div style="margin-top: 20px;">
                    <div style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 15px; font-family: 'Orbitron';">ALL PAID OPTIONS:</div>
                    ${paidModels.slice(0, 5).map((r, i) => `
                        <div style="display: flex; justify-content: space-between; padding: 10px; background: rgba(0,0,0,0.2); margin-bottom: 8px; border-radius: 4px;">
                            <div>
                                <span style="color: #fff; font-weight: bold;">${r.provider}</span>
                                <span style="color: var(--text-muted); font-size: 0.85rem; margin-left: 10px;">Score: ${r.score}</span>
                            </div>
                            <div style="color: ${i === 0 ? 'var(--neon-green)' : '#fff'}; font-weight: bold; font-family: 'Rajdhani'; font-size: 1.1rem;">
                                $${r.monthlyCost.toFixed(2)}
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }
        
        document.getElementById('cost-results').innerHTML = html;
    }

    function setMode(mode) {
        document.getElementById('btn-grid').classList.toggle('active', mode === 'grid');
        document.getElementById('btn-list').classList.toggle('active', mode === 'list');
        document.getElementById('grid-container').classList.toggle('hidden', mode !== 'grid');
        document.getElementById('list-container').classList.toggle('hidden', mode !== 'list');
    }

    function setSort(sortBy) {
        currentSort = sortBy;
        document.querySelectorAll('[id^="sort-"]').forEach(btn => btn.classList.remove('active'));
        document.getElementById('sort-' + sortBy).classList.add('active');
        renderContent();
    }

    function setChartMode(mode) {
        currentChartMode = mode;
        document.getElementById('chart-speed').classList.toggle('active', mode === 'speed');
        document.getElementById('chart-score').classList.toggle('active', mode === 'score');
        renderHistoricalChart();
    }

    function closeModal() {
        document.getElementById('modal').style.display = 'none';
    }

    function closeStoryModal() {
        document.getElementById('story-modal').style.display = 'none';
    }

    function closePromptModal() {
        document.getElementById('prompt-modal').style.display = 'none';
    }

    function showStoryModal() {
        document.getElementById('story-modal').style.display = 'flex';
    }

    function showPromptModal() {
        document.getElementById('prompt-modal').style.display = 'flex';
    }

    function toggleCompare(provider) {
        const idx = selectedForCompare.indexOf(provider);
        if (idx > -1) {
            selectedForCompare.splice(idx, 1);
        } else {
            if (selectedForCompare.length >= 2) {
                selectedForCompare.shift();
            }
            selectedForCompare.push(provider);
        }
        
        document.getElementById('compare-count').textContent = selectedForCompare.length;
        document.getElementById('compare-bar').classList.toggle('visible', selectedForCompare.length > 0);
        renderContent();
    }

    function clearCompare() {
        selectedForCompare = [];
        document.getElementById('compare-count').textContent = '0';
        document.getElementById('compare-bar').classList.remove('visible');
        renderContent();
    }

    function openCompare() {
        if (selectedForCompare.length !== 2) {
            alert('Please select exactly 2 models to compare');
            return;
        }
        
        const m1 = appData.results.find(r => r.provider === selectedForCompare[0]);
        const m2 = appData.results.find(r => r.provider === selectedForCompare[1]);
        
        if (!m1 || !m2) return;
        
        renderSkillRadar(m1, m2);
        
        let html = '<div class="compare-grid">';
        html += `
            <div class="compare-col">
                <h4 style="color:var(--neon-green); margin-bottom:15px;">${m1.provider}</h4>
                <div style="margin-bottom:10px;"><strong>Score:</strong> <span class="compare-score">${m1.customScore}</span></div>
                <div style="margin-bottom:10px;"><strong>Quality:</strong> ${m1.quality_score}</div>
                <div style="margin-bottom:10px;"><strong>Speed:</strong> ${m1.time.toFixed(2)}s</div>
                <div style="margin-bottom:10px;"><strong>TPS:</strong> ${m1.tokens_per_second}</div>
                <div style="margin-bottom:10px;"><strong>TTFT:</strong> ${m1.ttft ? m1.ttft.toFixed(2) + 's' : 'N/A'}</div>
                <div style="margin-bottom:10px;"><strong>Cost:</strong> $${(m1.cost_per_request * 1000).toFixed(2)}</div>
                ${m1.grade_breakdown ? `
                    <hr style="border-color:#333; margin:15px 0;">
                    <div><strong>JSON:</strong> ${m1.grade_breakdown.json_constraints}/40</div>
                    <div><strong>Logic:</strong> ${m1.grade_breakdown.logic_puzzle}/30</div>
                    <div><strong>Code:</strong> ${m1.grade_breakdown.code_generation}/30</div>
                ` : ''}
            </div>
            <div class="compare-col">
                <h4 style="color:var(--neon-cyan); margin-bottom:15px;">${m2.provider}</h4>
                <div style="margin-bottom:10px;"><strong>Score:</strong> <span class="compare-score">${m2.customScore}</span></div>
                <div style="margin-bottom:10px;"><strong>Quality:</strong> ${m2.quality_score}</div>
                <div style="margin-bottom:10px;"><strong>Speed:</strong> ${m2.time.toFixed(2)}s</div>
                <div style="margin-bottom:10px;"><strong>TPS:</strong> ${m2.tokens_per_second}</div>
                <div style="margin-bottom:10px;"><strong>TTFT:</strong> ${m2.ttft ? m2.ttft.toFixed(2) + 's' : 'N/A'}</div>
                <div style="margin-bottom:10px;"><strong>Cost:</strong> $${(m2.cost_per_request * 1000).toFixed(2)}</div>
                ${m2.grade_breakdown ? `
                    <hr style="border-color:#333; margin:15px 0;">
                    <div><strong>JSON:</strong> ${m2.grade_breakdown.json_constraints}/40</div>
                    <div><strong>Logic:</strong> ${m2.grade_breakdown.logic_puzzle}/30</div>
                    <div><strong>Code:</strong> ${m2.grade_breakdown.code_generation}/30</div>
                ` : ''}
            </div>
        `;
        html += '</div>';
        
        document.getElementById('compare-body').innerHTML = html;
        document.getElementById('compare-modal').style.display = 'flex';
    }

    function closeCompareModal() {
        document.getElementById('compare-modal').style.display = 'none';
    }

    function renderSkillRadar(m1, m2) {
        const ctx = document.getElementById('skillRadar');
        if (!ctx) return;
        
        if (skillRadarChart) {
            skillRadarChart.destroy();
        }
        
        const getSkillScore = (gb, skill) => {
            if (!gb) return 0;
            if (skill === 'JSON' && gb.json_constraints === 40) return 100;
            if (skill === 'Logic' && gb.logic_puzzle === 30) return 100;
            if (skill === 'Code' && gb.code_generation === 30) return 100;
            return 0;
        };
        
        skillRadarChart = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['JSON Constraints', 'Logic Puzzle', 'Code Generation'],
                datasets: [
                    {
                        label: m1.provider,
                        data: [
                            getSkillScore(m1.grade_breakdown, 'JSON'),
                            getSkillScore(m1.grade_breakdown, 'Logic'),
                            getSkillScore(m1.grade_breakdown, 'Code')
                        ],
                        borderColor: 'rgba(0, 255, 65, 1)',
                        backgroundColor: 'rgba(0, 255, 65, 0.2)',
                        borderWidth: 2
                    },
                    {
                        label: m2.provider,
                        data: [
                            getSkillScore(m2.grade_breakdown, 'JSON'),
                            getSkillScore(m2.grade_breakdown, 'Logic'),
                            getSkillScore(m2.grade_breakdown, 'Code')
                        ],
                        borderColor: 'rgba(0, 243, 255, 1)',
                        backgroundColor: 'rgba(0, 243, 255, 0.2)',
                        borderWidth: 2
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                scales: {
                    r: {
                        min: 0,
                        max: 100,
                        ticks: { 
                            display: true,
                            stepSize: 50,
                            color: '#666'
                        },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        pointLabels: { 
                            color: '#aaa',
                            font: { size: 12 }
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: true,
                        labels: { color: '#aaa' }
                    }
                }
            }
        });
    }

    function exportCSV() {
        if (!appData.results) return;
        let csv = 'Rank,Provider,Model,CustomScore,Quality,Speed,TTFT,TPS,Cost\n';
        const sorted = [...appData.results]
            .filter(r => r.status === 'Online')
            .sort((a,b) => calculateCustomScore(b) - calculateCustomScore(a));
        sorted.forEach((r,i) => csv += `${i+1},"${r.provider}","${r.model}",${calculateCustomScore(r)},${r.quality_score},${r.time},${r.ttft||0},${r.tokens_per_second},${r.cost_per_request}\n`);
        const a = document.createElement('a');
        a.href = URL.createObjectURL(new Blob([csv], {type: 'text/csv'}));
        a.download = 'braiain_custom_data.csv';
        document.body.appendChild(a); a.click(); document.body.removeChild(a);
    }
</script>
</body>
</html>
